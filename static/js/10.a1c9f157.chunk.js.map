{"version":3,"sources":["functions/functions.js","theme/Alert/SuccessAlert.js","theme/Alert/ErrorAlert.js","images/camera_icon.svg","images/person_icon.svg","images/edit_icon.svg","images/upload_icon.svg","images/remove_icon.svg","theme/UploadPhoto.js","images/ic_photo.png","images/ic_sticker.png","images/caro_icon.png","images/ic_send.png","images/group_icon.svg","component/Chat/ListChatBoard.js","theme/ListSticker.js","component/Chat/ChatBoard.js","component/Chat/ChatPage.js"],"names":["paramsToObject","entries","result","entry","key","value","initBoard","size","dataBoard","index","itemRow","indexCell","push","CHESSMAN_NONE","SuccessAlert","props","state","anchorOrigin","vertical","horizontal","autoHideDuration","alertProps","severity","elevation","variant","classes","this","Object","assign","snackbarProps","className","messageSuccess","message","t","React","Component","withStyles","color","withTranslation","ErrorAlert","style","height","messageError","fontWeight","backgroundColor","fontSize","padding","_extends","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","id","opacity","d","transform","SvgCameraIcon","_ref","svgRef","title","width","viewBox","ref","ForwardRef","forwardRef","_ref4","SvgPersonIcon","fill","stroke","strokeWidth","BorderLinearProgress","root","bar","borderRadius","LinearProgress","UploadPhoto","inputAvatarRef","createRef","onChange","removePhoto","photoPreview","photo","photoName","progressUploadBackground","uploadPhotoWrapper","uploadPhotoContent","accept","display","type","actionPhoto","actionLabel","htmlFor","actionText","onClick","src","alt","compose","connect","dispatch","theme","overflow","position","top","left","zIndex","objectFit","background","alignItems","justifyContent","cursor","transition","content","visibility","flexDirection","textAlign","transitionDelay","marginTop","module","exports","cx","cy","rx","ry","r","ListChatBoard","dataAllChatBox","idChatBoxCurrent","idChatBoxChange","showChats","bind","prevProps","prevState","snapshot","dataUserAuth","dataUser","URLSearchParams","window","location","search","substr","params","idChatBox","setState","setDataMessagesChatBoard","setDataInfoChatBoard","firebase","database","orderByChild","userId","equalTo","on","snap","val","dataAllChatBoxTemp","map","sort","chatBoxA","chatBoxB","updatedAt","dataChatBoard","dataFriend","dataMembers","itemChatBoard","avatarUrl","displayName","email","displayNameByUser","countUserDisplayName","i18n","photoChatBox","nameGroupChat","viewListChatBoard","listChat","item","to","links","itemChatLink","chatBoxType","PRIVATE_CHAT","Fragment","viewFriendInfoPrivateChat","viewFriendInfoGroupChat","authReducer","gameReducer","dataInfoChatBoard","gameActions","borderBottom","right","flexGrow","paddingLeft","API_SEARCH","ListSticker","stickerKeyword","searchSuggestions","dataStickers","handleChange","searchBySearchSuggestion","name","axios","all","get","API_SEARCH_SUGGESTIONS","then","response","dataApiSearchSuggestions","data","results","dataApiSearch","dataStickersTemp","media","gif","url","catch","error","searchSuggestion","listStickerWrapper","AppInput","placeholder","event","Button","btnSuggestion","showSticker","Grid","container","xs","itemImageWrapper","getSticker","borderTop","textTransform","margin","overflowY","paddingBottom","border","icon","checkedIcon","ChatBoard","textInputValue","popoverListSticker","popoverCreateGroupBoard","popoverCreatePrivateBoard","dataAllUsersGroupChat","dataInitPrivateBoard","sizeChessBoard","dataInitGroupBoard","dataChessmans","showOptionsAllUsers","successOpen","errorOpen","isLoading","errors","handleCloseNotice","onSendMessage","onKeyboardPressTextInput","openPopoverListSticker","closePopoverListSticker","onChoosePhoto","uploadPhoto","handleChessmansChange","openPopoverCreateGroupBoard","closePopoverCreateGroupBoard","openPopoverCreatePrivateBoard","closePopoverCreatePrivateBoard","createPrivateBoard","createGroupBoard","handleInitPrivateBoardChange","handleInitGroupBoardChange","showOptionsAllUsersChatBoard","contentMessage","typeMessage","createdAt","Date","getTime","dataMessage","createdBy","set","MESSAGE_TYPE_TEXT","MESSAGE_TYPE_CREATE_GROUP_BOARD","MESSAGE_TYPE_CREATE_PRIVATE_BOARD","files","currentPhotoFile","nameImage","uploadTask","storage","put","Math","round","bytesTransferred","totalBytes","child","getDownloadURL","MESSAGE_TYPE_IMAGE","dataMessagesChatBoard","match","dataMessages","dataItemMessage","checkMe","dataCreateBy","MESSAGE_TYPE_CREATE_CHAT_BOX","messageTypeCreate","itemMessage","user","isMe","contentTextMessage","notMe","avatarMessage","UserIcon","MESSAGE_TYPE_STICKER","contentImage","replace","btnGoToChessBoard","CaroIcon","currentTarget","idChessBoard","dataMembersBoard","dataChessBoard","userIdChessmanA","userIdChessmanB","chessBoardType","PRIVATE_BOARD","createBy","chessBoardOpen","GROUP_BOARD","selectUser","urlSticker","board","chatBoxIcon","chatBoxName","GROUP_CHAT","chatBoardWrapper","LoadingAction","chatBoardHeader","contentWrapper","chatBoardContent","viewMessages","viewItemMessage","chatBoardInput","PhotoIcon","refInput","click","el","StickerIcon","Popover","open","anchorEl","onClose","transformOrigin","popoverSticker","createGroupBoardPopover","Autocomplete","multiple","options","disableCloseOnSelect","getOptionLabel","option","renderOption","selected","Checkbox","marginRight","checked","renderInput","TextField","label","errorText","inputProps","min","max","submitCreateBoard","createPrivateBoardPopover","Input","onKeyPress","SendIcon","notDataChatBoard","marginLeft","flex","paddingRight","outline","maxWidth","marginBottom","ChatPage","dataAllUsers","popoverCreatePrivateChat","popoverCreateGroupChat","dataUserPrivateChat","dataUserGroupChat","checkCreatePrivateChat1","checkCreatePrivateChat2","photoChatBoxPreview","photoChatBoxName","openPopoverCreatePrivateChat","closePopoverCreatePrivateChat","openPopoverCreateGroupChat","closePopoverCreateGroupChat","createPrivateChat","submitPrivateChat","createGroupChat","submitGroupChat","handleGroupChatChange","handlePhotoChatBox","removePhotoChatBox","handlePrivateChatChange","dataAllUsersTemp","uid","URL","createObjectURL","valueOf","idChatBox2","dataInitChatBox","statusChatBox","Array","isArray","dataUserId","dataUserIdCheckMember","console","log","showAllUsers","Header","Content","chatPageWrapper","actionChat","createPrivateChatPopover","createGroupChatPopover","nameGroupInput","contentChat","viewChatBoard","Footer"],"mappings":"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","file":"static/js/10.a1c9f157.chunk.js","sourcesContent":["import {CHESSMAN_NONE} from \"../constants/constants\";\n\nexport const paramsToObject = (entries) => {\n    let result = {}\n    for(let entry of entries) { // each 'entry' is a [key, value] tupple\n        const [key, value] = entry;\n        result[key] = value;\n    }\n    return result;\n}\nexport const initBoard = (size) => {\n    let dataBoard = [];\n    for (let index = 0; index < size; index ++) {\n        let itemRow = [];\n        for (let indexCell = 0; indexCell < size; indexCell ++) {\n            itemRow.push(CHESSMAN_NONE);\n        }\n        dataBoard.push(itemRow);\n    }\n    return  dataBoard;\n}\n\nexport const fillEmptyMap = (array, width, height) => {\n    for (var x = 0; x < width; x++) {\n        array[x] = [];\n        for (var y = 0; y < height; y++) {\n\n            array[x][y] = [0];\n        }\n    }\n}","import React from \"react\";\nimport {Snackbar, withStyles} from \"@material-ui/core\";\nimport {Alert} from \"@material-ui/lab\";\nimport {withTranslation} from \"react-i18next\";\n\nconst styles = {\n    messageSuccess:{\n        '& .MuiAlert-filledError': {\n            color: '#fff !important',\n        }\n    }\n};\n\nclass SuccessAlert extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            props: {\n                anchorOrigin:{\n                    vertical: 'top',\n                    horizontal: 'center',\n                },\n                autoHideDuration:3000\n            },\n            alertProps: {\n                severity:\"success\",\n                elevation:6,\n                variant:\"filled\"\n            }\n        };\n    }\n\n    render() {\n        const {classes} = this.props;\n        const props = Object.assign(this.state.props,this.props.snackbarProps?this.props.snackbarProps:{});\n        const alertProps = Object.assign(this.state.alertProps,this.props.alertProps?this.props.alertProps:{});\n        return <Snackbar\n            {...props}\n            className={classes.messageSuccess}\n        >\n            <Alert {...alertProps}>\n                {this.props.message?this.props.message:this.props.t(\"form.success.save_ok\")}\n            </Alert>\n        </Snackbar>;\n    }\n}\n\nexport default withStyles(styles)(withTranslation()(SuccessAlert));\n","import React from \"react\";\nimport {Snackbar, withStyles} from \"@material-ui/core\";\nimport {Alert} from \"@material-ui/lab\";\nimport {withTranslation} from \"react-i18next\";\n\nconst styles = {\n    messageError: {\n        '& .MuiAlert-filledError': {\n            color: '#fff !important',\n            fontWeight: 500,\n            backgroundColor: '#e7434f !important',\n            fontSize: 18,\n            padding: '20px 40px 20px 40px',\n        }\n    }\n};\n\nclass ErrorAlert extends React.Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            props: {\n                anchorOrigin:{\n                    vertical: 'top',\n                    horizontal: 'center',\n                },\n                autoHideDuration:1000\n            },\n            alertProps: {\n                severity:\"error\",\n                elevation:6,\n                variant:\"filled\"\n            }\n        };\n    }\n\n    render() {\n        const {classes} = this.props;\n        const props = Object.assign(this.state.props,this.props.snackbarProps?this.props.snackbarProps:{});\n        const alertProps = Object.assign(this.state.alertProps,this.props.alertProps?this.props.alertProps:{});\n        return <Snackbar\n            {...props}\n            style={{\n                height: 300,\n            }}\n            className={classes.messageError}\n            autoHideDuration={3000}\n        >\n            <Alert {...alertProps}>\n               {this.props.message?this.props.message:this.props.t(\"form.error.occurred\")}\n            </Alert>\n        </Snackbar>;\n    }\n}\n\nexport default withStyles(styles)(withTranslation()(ErrorAlert));\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .prefix__cls-2{fill:#40587a}\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_6050\",\n  \"data-name\": \"Groupe 6050\",\n  opacity: 0.36\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_2742\",\n  d: \"M74.23 49.857a9.924 9.924 0 0 0-7.282-3.017h-9.012l-2.051-5.471a7.473 7.473 0 0 0-2.8-3.4 7.165 7.165 0 0 0-4.164-1.429h-20.6a7.166 7.166 0 0 0-4.164 1.429 7.474 7.474 0 0 0-2.8 3.4l-2.045 5.471H10.3a9.924 9.924 0 0 0-7.282 3.017A9.923 9.923 0 0 0 0 57.14v36.048a9.922 9.922 0 0 0 3.017 7.282 9.923 9.923 0 0 0 7.282 3.018h56.648a10.3 10.3 0 0 0 10.3-10.3V57.14a9.922 9.922 0 0 0-3.017-7.283zM51.357 87.9a17.358 17.358 0 0 1-12.734 5.291A17.359 17.359 0 0 1 25.89 87.9a17.969 17.969 0 0 1 0-25.467 17.357 17.357 0 0 1 12.734-5.293 17.359 17.359 0 0 1 12.734 5.291 17.969 17.969 0 0 1 0 25.467z\",\n  className: \"prefix__cls-2\",\n  \"data-name\": \"Trac\\\\xE9 2742\",\n  transform: \"translate(0 -36.54)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_2743\",\n  d: \"M203.443 228.4a11.609 11.609 0 1 0 8.188 3.4 11.16 11.16 0 0 0-8.188-3.4z\",\n  className: \"prefix__cls-2\",\n  \"data-name\": \"Trac\\\\xE9 2743\",\n  transform: \"translate(-164.82 -201.366)\"\n}));\n\nvar SvgCameraIcon = function SvgCameraIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 77.247,\n    height: 66.948,\n    viewBox: \"0 0 77.247 66.948\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCameraIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/camera_icon.3cee45ed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .prefix__cls-1{fill:#00334e}\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3528\",\n  d: \"M970.034-82.352l-.016-.051c-.02-.072-.043-.141-.065-.211s-.053-.163-.082-.243-.056-.146-.086-.217-.065-.15-.1-.225-.065-.139-.1-.206-.083-.152-.126-.227-.069-.123-.106-.183q-.11-.175-.231-.34c-.044-.06-.092-.118-.138-.177s-.114-.144-.174-.213-.1-.112-.155-.168-.109-.114-.166-.169-.116-.111-.176-.164-.112-.1-.17-.146-.127-.1-.192-.155-.119-.085-.179-.127-.135-.1-.206-.142q-.18-.115-.369-.216c-.07-.038-.143-.07-.215-.105s-.143-.07-.216-.1l-.215-.086c-.072-.028-.162-.061-.244-.089s-.135-.044-.2-.065c-.1-.029-.2-.055-.3-.078-.055-.013-.109-.027-.164-.038-.16-.033-.322-.061-.486-.08a.471.471 0 0 0-.285.078 7.9 7.9 0 0 1-4.657 1.517 7.9 7.9 0 0 1-4.656-1.517.471.471 0 0 0-.285-.078c-.164.019-.326.047-.486.08-.055.011-.109.025-.163.038-.1.024-.2.049-.3.079-.069.02-.136.042-.2.064-.083.028-.164.057-.245.089s-.144.055-.214.086-.145.067-.217.1l-.214.1c-.126.068-.249.14-.369.216-.071.045-.137.094-.206.142s-.12.083-.179.127-.129.1-.193.155l-.17.146c-.055.046-.119.108-.176.164s-.111.112-.166.17-.105.11-.155.167-.117.141-.175.214-.094.116-.138.176q-.121.166-.231.34c-.037.06-.071.122-.106.183s-.086.15-.126.227-.068.137-.1.206-.068.149-.1.225-.058.144-.086.217-.056.161-.082.243-.045.14-.065.211c0 .017-.011.034-.016.051a5.764 5.764 0 0 0-.2 1.462v1.955a.885.885 0 0 0 .478.744 17.441 17.441 0 0 0 5.087 1.168h.047c.325.035.671.065 1.031.093l.074.006q.416.031.864.055l.336.018.425.016c.559.02 1.119.033 1.679.031.56 0 1.12-.01 1.679-.031.142-.005.287-.009.425-.016l.336-.018q.447-.023.863-.055l.075-.006c.359-.028.7-.058 1.03-.093h.047a17.439 17.439 0 0 0 5.087-1.168.885.885 0 0 0 .478-.744v-1.95a5.753 5.753 0 0 0-.203-1.462z\",\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Trac\\\\xE9 3528\",\n  transform: \"translate(-950.189 98.885)\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3529\",\n  d: \"M964.526-99.994a5.93 5.93 0 0 0 5.931-5.93 5.93 5.93 0 0 0-5.93-5.931 5.93 5.93 0 0 0-5.931 5.93 5.93 5.93 0 0 0 5.93 5.931zm2.809-3.576a2.821 2.821 0 0 1-2.81 1.563 2.821 2.821 0 0 1-2.81-1.563z\",\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Trac\\\\xE9 3529\",\n  transform: \"translate(-954.502 111.854)\"\n});\n\nvar SvgPersonIcon = function SvgPersonIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"prefix__Groupe_7496\",\n    width: 20.043,\n    height: 22.085,\n    \"data-name\": \"Groupe 7496\",\n    viewBox: \"0 0 20.043 22.085\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPersonIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/person_icon.9b0e390e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Pencil-2\",\n  \"data-name\": \"Pencil\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7243\",\n  \"data-name\": \"Groupe 7243\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3402\",\n  fill: \"#ec6611\",\n  d: \"M18.922 1.076a3.672 3.672 0 0 0-5.193 0L2.683 12.056a.62.62 0 0 0-.147.229l-2.5 6.875a.625.625 0 0 0 .589.84.617.617 0 0 0 .183-.028l6.218-1.907a.624.624 0 0 0 .259-.155L18.922 6.272a3.671 3.671 0 0 0 0-5.2zM6.307 16.978l-2.327.715a2.67 2.67 0 0 0-.635-1.039 3.377 3.377 0 0 0-.847-.6l1.065-2.929H5v1.25a.624.624 0 0 0 .624.625h1.1zm9.2-9.058l-7.615 7.614.219-1.034a.626.626 0 0 0-.611-.75H6.249V12.5a.625.625 0 0 0-.625-.625h-.986l7.433-7.39.007.007a2.424 2.424 0 1 1 3.428 3.428zm2.531-2.531l-.582.583a3.657 3.657 0 0 0-3.431-3.428l.586-.582a2.423 2.423 0 1 1 3.426 3.428zm-4.105-.2l-6.25 6.25a.625.625 0 1 0 .884.884l6.25-6.25a.625.625 0 0 0-.884-.884z\",\n  \"data-name\": \"Trac\\\\xE9 3402\",\n  transform: \"translate(.001)\"\n})));\n\nvar SvgEditIcon = function SvgEditIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"prefix__pencil\",\n    width: 20,\n    height: 19.999,\n    viewBox: \"0 0 20 19.999\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEditIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/edit_icon.1196cfd9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__download-arrow\",\n  fill: \"#4f4c65\",\n  stroke: \"#54516a\",\n  strokeWidth: \"0.5px\",\n  d: \"M25.249 17.542a.889.889 0 0 0 0-1.269.874.874 0 0 0-1.256 0l-6.432 6.42V1.48a.894.894 0 0 0-.888-.9.9.9 0 0 0-.9.9v21.214l-6.42-6.42a.9.9 0 0 0-1.269 1.269l7.954 7.957a.911.911 0 0 0 1.269 0zm6.305 5.824a.883.883 0 0 1 .888-.888.894.894 0 0 1 .9.888V32.1a.9.9 0 0 1-.9.9H.888A.894.894 0 0 1 0 32.1v-8.734a.883.883 0 0 1 .888-.888.894.894 0 0 1 .9.888v7.841h29.766z\",\n  transform: \"translate(.25 -.329)\"\n});\n\nvar SvgUploadIcon = function SvgUploadIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 33.843,\n    height: 32.917,\n    viewBox: \"0 0 33.843 32.917\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgUploadIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/upload_icon.b87f27bb.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3614\",\n  fill: \"#ff7d86\",\n  d: \"M36.756 22.846l-.046-2.17h-2.048l-6.105 5.435-6.105-5.435H20.4l-.044 2.17 5.954 5.3-5.954 5.261.044 2.178h2.042l6.112-5.441 6.112 5.441h2.042l.044-2.178-5.952-5.261z\",\n  \"data-name\": \"Trac\\\\xE9 3614\",\n  transform: \"translate(-20.358 -20.676)\"\n});\n\nvar SvgRemoveIcon = function SvgRemoveIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16.398,\n    height: 14.909,\n    viewBox: \"0 0 16.398 14.909\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgRemoveIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/remove_icon.6de56bee.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {connect} from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport {compose} from \"redux\";\nimport { ReactComponent as CameraIcon } from \"../images/camera_icon.svg\";\nimport {withTranslation} from \"react-i18next\";\nimport { lighten, withStyles } from '@material-ui/core/styles';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport {ReactComponent as EditIcon } from \"../images/edit_icon.svg\";\nimport {ReactComponent as UploadIcon } from \"../images/upload_icon.svg\";\nimport {ReactComponent as RemoveIcon } from \"../images/remove_icon.svg\";\n\nconst styles = theme => ({\n    uploadPhotoWrapper: {\n        width: '100%',\n        height: '100%',\n        overflow: 'hidden'\n    },\n    photoPreview: {\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        top: 0,\n        left: 0,\n        zIndex: 99,\n        '& img': {\n            width: '100%',\n            height: '100%',\n            objectFit: 'cover'\n        },\n        '& .removeAvatar': {\n            position: 'absolute',\n            zIndex: 3,\n            top: 20,\n            left: '50%',\n            transform: 'translateX(-50%)',\n            width: 22,\n            height: 22,\n            display: 'flex',\n            background: '#fff',\n            borderRadius: '50%',\n            alignItems: 'center',\n            justifyContent: 'center',\n            cursor: 'pointer',\n            transition: '0.3s',\n            '&:hover': {\n                // background: red[500],\n                color: '#fff'\n            }\n        }\n    },\n    uploadPhotoContent: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '100%',\n        position: 'relative',\n        // border: '2px solid #1976b7',\n        background: '#f9f7d9',\n        '&::before': {\n            content: `''`,\n            background: 'rgba(0,0,0,.5)',\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            top: 0,\n            left: 0,\n            zIndex: 10,\n            opacity: 0,\n            visibility: 'hidden',\n            transition: '0.3s'\n        },\n        '&:hover': {\n            '& $actionLabel': {\n                transform: 'translateX(0)'\n            },\n            '&::before': {\n                opacity: 1,\n                visibility: 'visible'\n            }\n        }\n    },\n    actionPhoto: {\n        position: 'absolute',\n        zIndex: 999,\n        width: '100%',\n        display: 'flex',\n        height: '100%',\n        justifyContent: 'center',\n        flexDirection: 'column'\n    },\n    actionLabel: {\n        fontSize: '0.8rem',\n        color: '#46435a',\n        background: '#fff',\n        width: 90,\n        borderRadius: '0 30px 30px 0',\n        textAlign: 'center',\n        transition: '0.3s',\n        transform: 'translateX(-100%)',\n        '&:nth-of-type(2)': {\n            transitionDelay: '0.1s',\n            marginTop: 5\n        },\n        '&:hover': {\n            color: '#fff',\n            background: '#645d7b'\n        }\n    },\n    actionText: {\n        padding: '0.25rem',\n        cursor: 'pointer',\n        backgroundColor: '#a3d2ca',\n        borderRadius: '0px 9px 9px 0px',\n        '& svg': {\n            '& path': {\n                fill: '#123152',\n                stroke: '#123152'\n            }\n        }\n    },\n});\n\n\nconst BorderLinearProgress = withStyles({\n    root: {\n        height: 10,\n        backgroundColor: '#a2d5f2',\n    },\n    bar: {\n        borderRadius: 20,\n        backgroundColor: '#07689f',\n    },\n})(LinearProgress);\nclass UploadPhoto extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n\n        };\n\n        this.inputAvatarRef = React.createRef();\n    }\n\n    render() {\n        const {\n\n        } = this.state;\n        const {\n            classes,\n            onChange,\n            removePhoto,\n            photo,\n            photoPreview,\n            photoName,\n            progressUploadBackground\n        } = this.props;\n\n        return (\n            <div className={classes.uploadPhotoWrapper}>\n                <BorderLinearProgress\n                    variant=\"determinate\"\n                    color=\"secondary\"\n                    value={progressUploadBackground}\n                />\n                <div className={classes.uploadPhotoContent}>\n                    <input\n                        accept=\"image/*\"\n                        style={{display: 'none'}}\n                        onChange={onChange}\n                        id=\"text-button-file\"\n                        type=\"file\"\n                        ref={this.inputAvatarRef}\n                    />\n                    <div className={classes.actionPhoto}>\n                        <div className={classes.actionLabel}>\n                            <label htmlFor=\"text-button-file\">\n                                <div className={classes.actionText}>\n                                    {photoPreview ? <EditIcon /> : <UploadIcon />}\n                                </div>\n                            </label>\n                        </div>\n                        {photoPreview &&\n                        <div className={classes.actionLabel}>\n                            <div onClick={removePhoto} className={classes.actionText}><RemoveIcon /></div>\n                        </div>\n                        }\n                    </div>\n                    {photoPreview && <div className={classes.photoPreview}>\n                        <img src={photoPreview} alt={photoName}/>\n                    </div>}\n                    {!photoPreview && <CameraIcon />}\n                </div>\n            </div>\n        );\n    }\n}\n\nUploadPhoto.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withStyles(styles),\n    withTranslation()\n) (UploadPhoto);\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAFaElEQVR4Xu2dT2gcdRTH35vdYEUqiL0UaWZzUYQkO0kaFBWhlx5UamZOooIgVKoV9dT2oh4U/NOLRQ0UtCCCPZTMrorooSBUqUJNZ/LvUKjtTlL2VAqlFdskO0/Gslp0d7Pze7/wm9l9e935vvf7fT6/yS8zy84iyMsoATTaXZqDCDC8CESACDBMwHB7OQNEgGEChtvLGSACDBMw3F7OABFgmIDh9nIGiADDBAy3lzNABBgmYLi99jNgaMyzY4JhRBoBwi2G56enPdINIlywEBYvBn6kp+itKtoE7Bh1h60CfIGA4zoHmLVaBHTWAnjxYlCZ0zE2LQIGy+5jiPgDItylY1BZr0FA6wC4Lwr8z7ljZQv4e+Vb+Gu/wG8CTyQg0WQtrIYcCWwBtuP9jAiPcgaR3yz9VAsqj3PGzxJgj3rjWIBZzgDynqUYx6O5mUB1HiwBpbJ7ECx8X7V5T+RiOlSbq3ygOheeAMf9CBBfV23eEzmiI7Ww8obqXJgCvKOA8JJq8x7JHa0F/j7VuYgAVXL/5kQAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4IIYOHjh0UAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4IIYOHjh0UAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4IIYOHjh0UAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4II6ISPgHwArCPAqyzM7cMioC0bonOrhfXxOtTXSvHgGQAsb4IEEdAKKhFcj9djZ2Wx+nvyfsmZKgHgPCBu1SxBBLQR8FQU+t/d/l7JcZ8GxKoI0Ezgf+UIPqyF/sFWbewx72PN+0HvnAEE8BsC7GT6OVUL/F0AELesMzExoHk/6A0BRHS4cbn4dnHb+mlAdFQkEFC9sVocubR04kqnvOb9oCcE/LNq7Qe97bCFZhFwe0oJa9SAh6N5/2w3OY37Qb4FtFq1JWfKIbROI8Cd3cBMjiGC/VHoT3d7fHKc7bifIOL+NJkWx+ZaQNtVu2PM22MRVRFxwy+RENHxKKw8mxqknv0gvwI2WrWlMfcQAL7XGSwtFK/dmDx//vubqQXouT7Ip4BuV63tuF8i4vNt4F5dXV0brS99u6wCv5lh7gd5FJBi1U5MDNgN+8f/fhmckhdau5eDmZMc+M2s7XifIsIrCrVyJyD1qh0cefIeLNwxiwhDTUAE8TtRUH1LAVjriPp+kB8BnFV7X9m9f8CC5Iba3URwMgr93ck/P9oEqO8HORIA8G4U+G+qQrPL3i5EOmYVis6F2RNXVet0vkhLfb8oHwJ0rdptD+zZevncN9c2A/5t+8E0IrzcZY9cCFi2rMLoZq3aLkF1f1i6/SDjAohurjfiyUsLXy90T8D8kSnuF2VbABE8F4X+V+aRph9Bl9cH2RVARJ9FYWVv+qlnJ2E73kb7QTYFEMEVAnrGAlrLDs70I4kBBxDhOALe2yadTQHpp5rbhAgwrE4E9K+AsnsELHzNMACz7U0+smzQ8Q5YCMoPrDNLTk93IjoQhZXDqtU2/LSp832TKQfQUn5ko+qgs5RDIIfzGGOWgAREPz+4lYB+iYLKI5wFwRZw6wN0PIOARc5A8pYlgj+I8KHluZklztjZApLmg467FxGm+0VCAj9GeGIl8E9x4CdZLQKSQkNjbjkGONYPj6+PG/DCynxlkQtfq4DmYJIfcGjENGJZMNwzP+BA9CchLmb6Bxx0rIZ+rKHtT1A/wtMxZxGggyKjhghgwNMRFQE6KDJqiAAGPB1REaCDIqOGCGDA0xEVATooMmqIAAY8HVERoIMio4YIYMDTERUBOigyaogABjwdURGggyKjxl+mzZV/ec3aHgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/caro_icon.283ca833.png\";","module.exports = \"data:image/png;base64,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\"","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n            .prefix__cls-1{fill:#00334e}\\n        \"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__teamwork\",\n  transform: \"translate(.001 .021)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7167\",\n  \"data-name\": \"Groupe 7167\",\n  transform: \"translate(11.807 .281)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7166\",\n  \"data-name\": \"Groupe 7166\"\n}, /*#__PURE__*/React.createElement(\"ellipse\", {\n  id: \"prefix__Ellipse_501\",\n  cx: 4.5,\n  cy: 4,\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Ellipse 501\",\n  rx: 4.5,\n  ry: 4,\n  transform: \"translate(-.138 -.302)\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7169\",\n  \"data-name\": \"Groupe 7169\",\n  transform: \"translate(10.304 10.309)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7168\",\n  \"data-name\": \"Groupe 7168\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3383\",\n  d: \"M172.357 169.147l-.936-7.287a2.053 2.053 0 0 0-2.048-1.86h-1.129a1.038 1.038 0 0 0-.73.3l-1.331 1.331-1.331-1.331a1.038 1.038 0 0 0-.73-.3h-1.127a2.048 2.048 0 0 0-2.048 1.828l-.938 7.316a1.032 1.032 0 0 0 1.022 1.16h1.113l.861 10.51a2.054 2.054 0 0 0 2.051 1.855h2.257a2.06 2.06 0 0 0 2.053-1.873l.859-10.492h1.111a1.028 1.028 0 0 0 .773-.35 1.015 1.015 0 0 0 .248-.807z\",\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Trac\\\\xE9 3383\",\n  transform: \"translate(-160 -160.005)\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7171\",\n  \"data-name\": \"Groupe 7171\",\n  transform: \"translate(22.706 .281)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7170\",\n  \"data-name\": \"Groupe 7170\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  id: \"prefix__Ellipse_502\",\n  cx: 4,\n  cy: 4,\n  r: 4,\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Ellipse 502\",\n  transform: \"translate(-.037 -.302)\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7173\",\n  \"data-name\": \"Groupe 7173\",\n  transform: \"translate(2.06 .005)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7172\",\n  \"data-name\": \"Groupe 7172\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3384\",\n  d: \"M36.121 0a4.122 4.122 0 1 0 4.122 4.122A4.126 4.126 0 0 0 36.121 0z\",\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Trac\\\\xE9 3384\",\n  transform: \"translate(-31.999 -.005)\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7175\",\n  \"data-name\": \"Groupe 7175\",\n  transform: \"translate(22.93 10.309)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7174\",\n  \"data-name\": \"Groupe 7174\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3385\",\n  d: \"M366.1 169.147l-.936-7.285a2.052 2.052 0 0 0-2.048-1.857h-1.129a1.038 1.038 0 0 0-.73.3l-1.331 1.331-1.331-1.331a1.037 1.037 0 0 0-.727-.3h-1.129a1.963 1.963 0 0 0-.365.068 4.01 4.01 0 0 1 .536 1.55l.934 7.262a3.084 3.084 0 0 1-.754 2.444 2.988 2.988 0 0 1-1.022.725l.684 6.7a2.053 2.053 0 0 0 2.051 1.855h2.257a2.06 2.06 0 0 0 2.053-1.873l.857-8.431h1.111a1.028 1.028 0 0 0 .773-.35 1.015 1.015 0 0 0 .246-.808z\",\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Trac\\\\xE9 3385\",\n  transform: \"translate(-356.063 -160.005)\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7177\",\n  \"data-name\": \"Groupe 7177\",\n  transform: \"translate(-.001 10.309)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"prefix__Groupe_7176\",\n  \"data-name\": \"Groupe 7176\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  id: \"prefix__Trac\\\\xE9_3386\",\n  d: \"M9.014 171.319a3.087 3.087 0 0 1-.746-2.43l.938-7.318a3.81 3.81 0 0 1 .513-1.5 1.941 1.941 0 0 0-.347-.071H8.243a1.038 1.038 0 0 0-.73.3l-1.331 1.331-1.331-1.331a1.037 1.037 0 0 0-.727-.3h-1.13a2.048 2.048 0 0 0-2.048 1.828l-.938 7.316a1.032 1.032 0 0 0 1.022 1.16h1.113L3 178.759a2.054 2.054 0 0 0 2.051 1.855h2.26a2.06 2.06 0 0 0 2.053-1.873l.684-6.687a3.09 3.09 0 0 1-1.034-.735z\",\n  className: \"prefix__cls-1\",\n  \"data-name\": \"Trac\\\\xE9 3386\",\n  transform: \"translate(.001 -160.005)\"\n}))));\n\nvar SvgGroupIcon = function SvgGroupIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32.974,\n    height: 33,\n    viewBox: \"0 0 32.974 33\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGroupIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/group_icon.c1fa137a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport {compose} from \"redux\";\nimport Button from \"@material-ui/core/Button\";\nimport Popover from \"@material-ui/core/Popover\";\nimport firebase, {storage} from \"../../firebase\";\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from \"@material-ui/core/TextField\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport {GROUP_CHAT, MESSAGE_TYPE_CREATE_CHAT_BOX, PRIVATE_CHAT} from \"../../constants/constants\";\nimport * as types from \"../../_constants/game\";\nimport {NavLink} from \"react-router-dom\";\nimport * as links from \"./../../constants/links\";\nimport UploadPhoto from \"../../theme/UploadPhoto\";\nimport Input from \"@material-ui/core/Input\";\nimport {paramsToObject} from \"../../functions/functions\";\nimport * as gameActions from \"../../_actions/game\";\nimport { ReactComponent as PersonIcon } from \"./../../images/person_icon.svg\";\nimport { ReactComponent as GroupIcon } from \"./../../images/group_icon.svg\";\nimport i18n from \"../../i18n\";\nimport {withTranslation} from \"react-i18next\";\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\nconst styles = theme => ({\n\n    itemChatLink: {\n\n    },\n    itemChatBoard: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: '0.5rem 0.25rem',\n        borderBottom: '1px solid darkcyan',\n        position: 'relative',\n        '& svg.type': {\n            position: 'absolute',\n            right: 0,\n            top: 2\n        },\n        '& .avatar': {\n            width: 48,\n            height: 48,\n            '& img': {\n                width: '100%',\n                height: '100%',\n                borderRadius: '50%'\n            },\n            '& svg': {\n                width: '100%',\n                height: '100%',\n                borderRadius: '50%'\n            }\n        },\n        '& .info': {\n            flexGrow: 1,\n            color: '#123152',\n            fontWeight: 600,\n            paddingLeft: '0.5rem',\n            fontSize: '0.9rem',\n        }\n    }\n\n});\nclass ListChatBoard extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataAllChatBox: [],\n            idChatBoxCurrent: null,\n            idChatBoxChange: true,\n        };\n\n        this.showChats = this.showChats.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {\n            idChatBoxChange,\n        } = this.state;\n        const {\n            dataUserAuth,\n            dataUser,\n        } = this.props;\n        //\n        const urlParams = new URLSearchParams(window.location.search.substr(1));\n        const entries = urlParams.entries();\n        const params = paramsToObject(entries);\n        const {\n            idChatBoxCurrent\n        } = this.state;\n        if (params.hasOwnProperty('idChatBox') && idChatBoxChange) {\n            const idChatBox = params.idChatBox;\n            if (idChatBox !== idChatBoxCurrent) {\n                this.setState({\n                    idChatBoxCurrent: idChatBox,\n                    idChatBoxChange: false\n                });\n                this.props.setDataMessagesChatBoard(idChatBox);\n                this.props.setDataInfoChatBoard(idChatBox);\n            }\n        }\n    }\n\n\n\n    componentDidMount() {\n        this.showChats();\n\n        // this.viewDataUserById(this.props.dataUser.userId);\n    }\n\n\n\n\n    showChats() {\n        const {\n            dataUser\n        } = this.props;\n        firebase.database().ref('chats').orderByChild(dataUser.userId + '_checkMember').equalTo(true).on('value', (snap) => {\n            if (snap.val()) {\n                let dataAllChatBoxTemp = [];\n                Object.keys(snap.val()).map((key, index)=>{\n                    dataAllChatBoxTemp.push(snap.val()[key]);\n                });\n                dataAllChatBoxTemp.sort((chatBoxA, chatBoxB) => {\n                    return (\n                        chatBoxB.updatedAt - chatBoxA.updatedAt\n                    );\n                });\n                this.setState({\n                    dataAllChatBox: dataAllChatBoxTemp\n                })\n            }\n        });\n    }\n\n\n\n    viewFriendInfoPrivateChat(dataChatBoard) {\n        const {\n            dataUser,\n            classes\n        } = this.props;\n        let dataFriend = null;\n        for (let [key, value] of Object.entries(dataChatBoard.dataMembers)) {\n            if (dataUser.userId !== key) {\n                dataFriend = value;\n            }\n        }\n        return (dataFriend ? <div className={classes.itemChatBoard}>\n                <PersonIcon className=\"type\" width={18} height={18} />\n                <div className=\"avatar\">\n                {\n                    dataFriend.avatarUrl ? <img src={dataFriend.avatarUrl} alt=\"\"/> : <PersonIcon/>\n                }\n                </div>\n            <div className=\"info\">\n                {\n                    dataFriend.displayName ? dataFriend.displayName :\n                        dataFriend.email ? dataFriend.email :\n                            'user'\n                }\n            </div>\n\n        </div> : null);\n    }\n\n    viewFriendInfoGroupChat(dataChatBoard) {\n        const {\n            dataUser,\n            classes\n        } = this.props;\n        // let dataFriend = null;\n        // for (let [key, value] of Object.entries(dataChatBoard.dataMembers)) {\n        //     if (dataUser.userId !== key) {\n        //         dataFriend = value;\n        //     }\n        // }\n        if (dataChatBoard) {\n            let  displayNameByUser = '';\n            let countUserDisplayName = 0;\n            for (let [key, value] of Object.entries(dataChatBoard.dataMembers)) {\n                if (dataUser.userId !== key && countUserDisplayName < 2) {\n                    displayNameByUser += value.displayName ? value.displayName :\n                        value.email ? value.email :\n                            i18n.t('chat.user') + ', ';\n                    countUserDisplayName += 1;\n                }\n            }\n            return <div className={classes.itemChatBoard}>\n                <GroupIcon className=\"type\" width={18} height={18}/>\n                <div className=\"avatar\">\n                    {\n                        dataChatBoard.photoChatBox ? <img src={dataChatBoard.photoChatBox} alt=\"\"/> : <GroupIcon />\n                    }\n                </div>\n                <div className=\"info\">\n                    {\n                        dataChatBoard.nameGroupChat ? dataChatBoard.nameGroupChat :\n                            displayNameByUser ? displayNameByUser :\n                                i18n.t('chat.group') + ', '\n                    }\n                </div>\n\n            </div>\n        }\n        return null;\n    }\n\n    render() {\n        const {\n\n            dataAllChatBox,\n        } = this.state;\n        const {\n            classes,\n            dataUserAuth,\n            dataUser\n        } = this.props;\n        return (\n            <div className={classes.viewListChatBoard}>\n                <div className={classes.listChat}>\n                    {\n                        dataAllChatBox.map((item, index) => {\n                            return (\n                                <NavLink\n                                    to={links.LINK_CHAT_PAGE + '?idChatBox=' + item.idChatBox}\n                                    onClick={() => {\n                                        this.setState({\n                                            idChatBoxChange: true\n                                        })\n                                    }}\n                                    className={classes.itemChatLink}\n                                >\n                                        {\n                                            (item.chatBoxType === PRIVATE_CHAT)\n                                            ?\n                                                <React.Fragment>{this.viewFriendInfoPrivateChat(item) === null ? <PersonIcon /> : this.viewFriendInfoPrivateChat(item)}</React.Fragment>\n                                                :\n                                                <React.Fragment>{this.viewFriendInfoGroupChat(item) === null ? <PersonIcon /> : this.viewFriendInfoGroupChat(item)}</React.Fragment>\n                                        }\n                                </NavLink>\n                            );\n                        })\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nListChatBoard.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n    dataUserAuth: state.authReducer.dataUserAuth,\n    dataUser: state.gameReducer.dataUser,\n    dataInfoChatBoard: state.gameReducer.dataInfoChatBoard,\n\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setDataMessagesChatBoard: (idChatBox) => dispatch(gameActions.setDataMessagesChatBoard(idChatBox)),\n        setDataInfoChatBoard: (idChatBox) => dispatch(gameActions.setDataInfoChatBoard(idChatBox))\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withStyles(styles),\n    withTranslation(),\n) (ListChatBoard);\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport {compose} from \"redux\";\nimport axios from 'axios';\n\nimport Input from \"@material-ui/core/Input\";\nimport AppInput from \"./AppInput\";\nimport Button from \"@material-ui/core/Button\";\nimport i18n from \"../i18n\";\nimport Grid from \"@material-ui/core/Grid\";\n\n\nconst styles = theme => ({\n    listStickerWrapper: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n    },\n    searchSuggestions: {\n        borderTop: '3px solid #123152'\n    },\n    btnSuggestion: {\n        backgroundColor: '#123152',\n        textTransform: 'initial',\n        padding: '0.5rem 1.5rem',\n        fontWeight: 600,\n        borderRadius: 9,\n        margin: '0.4rem 0.2rem',\n        color: '#fff',\n        '&:hover': {\n            backgroundColor: '#123152',\n        }\n    },\n    showSticker: {\n        padding: '0.5rem',\n        overflowY: 'scroll',\n        '&::-webkit-scrollbar': {\n            width: 9,\n            height: 9,\n        },\n        '&::-webkit-scrollbar-track': {\n            // background: '#ee6f57',\n            // borderRadius: 9,\n        },\n        '&::-webkit-scrollbar-thumb': {\n            borderRadius: 9,\n            background: '#ee6f57',\n        },\n    },\n    itemImageWrapper: {\n        '& img': {\n            width: '100%',\n            cursor: 'pointer',\n        }\n    },\n    stickerKeyword: {\n        width: '100%',\n        paddingBottom: '0.5rem',\n        '& input': {\n            backgroundColor: '#f1f3de',\n            border: '3px solid #557571',\n        }\n    }\n});\nconst TENOR_API_KEY = '1T64U0GUWGZG';\nconst API_SEARCH_SUGGESTIONS = 'http://api.tenor.com/v1/search_suggestions' + '?key='  + TENOR_API_KEY;\nconst API_SEARCH = 'http://api.tenor.com/v1/search' + '?key='  + TENOR_API_KEY;\nclass ListSticker extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            stickerKeyword: '',\n            searchSuggestions: [],\n            dataStickers: []\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n\n    componentDidMount() {\n        this.searchBySearchSuggestion('');\n    }\n\n    handleChange(name, value) {\n        this.setState({\n            [name]: value\n        });\n        axios.all([\n            axios.get(API_SEARCH_SUGGESTIONS + '&q=' + value),\n            axios.get(API_SEARCH + '&q=' + value),\n        ])\n            .then((response, key) => {\n                const dataApiSearchSuggestions = response[0].data.results;\n                const dataApiSearch = response[1].data.results;\n                let dataStickersTemp = [];\n                dataApiSearch.map((item, index) => {\n                    dataStickersTemp.push(item.media[0].gif.url);\n                });\n                // dataApiSearch.map\n                this.setState({\n                    searchSuggestions: dataApiSearchSuggestions,\n                    dataStickers: dataStickersTemp\n                })\n            })\n            .catch(error => {\n\n            })\n    }\n\n    searchBySearchSuggestion(searchSuggestion) {\n        axios.get(API_SEARCH + '&q=' + searchSuggestion)\n            .then(response => {\n                const dataApiSearch = response.data.results;\n                let dataStickersTemp = [];\n                dataApiSearch.map((item, index) => {\n                    dataStickersTemp.push(item.media[0].gif.url);\n                });\n                // dataApiSearch.map\n                this.setState({\n                    dataStickers: dataStickersTemp,\n                })\n            })\n            .catch(error => {\n\n            });\n    }\n\n    render() {\n        const {\n            stickerKeyword,\n            searchSuggestions,\n            dataStickers\n        } = this.state;\n        const {\n            classes,\n\n            dataChatBoard,\n        } = this.props;\n        return (\n            <div className={classes.listStickerWrapper}>\n                <AppInput\n                    className={classes.stickerKeyword}\n                    name=\"stickerKeyword\"\n                    value={stickerKeyword}\n                    type=\"text\"\n                    placeholder={i18n.t('chat.listSticker.searchSticker')}\n                    onChange={(event) => this.handleChange('stickerKeyword', event.target.value)}\n                />\n                <div className={classes.searchSuggestions}>\n                    {\n                        searchSuggestions.map((item, index) => {\n                            return (\n                                <Button\n                                    className={classes.btnSuggestion}\n                                    onClick={() => this.searchBySearchSuggestion(item)}\n                                >\n                                    {item}\n                                </Button>\n                            )\n                        })\n                    }\n                </div>\n                <div className={classes.showSticker}>\n                    <Grid container>\n                    {\n                        dataStickers.map((item, index) => {\n                            return (\n                                <Grid item xs={6} className={classes.itemImageWrapper}>\n                                    <img src={item} alt=\"\" onClick={() => {\n                                        this.props.getSticker(item);\n                                    }}/>\n                                </Grid>\n                            );\n                        })\n                    }\n                    </Grid>\n                </div>\n            </div>\n        );\n    }\n}\n\nListSticker.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n    dataUserAuth: state.authReducer.dataUserAuth,\n    dataChatBoard: state.gameReducer.dataChatBoard,\n    dataUser: state.gameReducer.dataUser\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withStyles(styles),\n    // withTranslation()\n) (ListSticker);\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport {compose} from \"redux\";\nimport {\n    GROUP_BOARD,\n    GROUP_CHAT,\n    MESSAGE_TYPE_CREATE_CHAT_BOX,\n    MESSAGE_TYPE_CREATE_GROUP_BOARD,\n    MESSAGE_TYPE_CREATE_PRIVATE_BOARD,\n    MESSAGE_TYPE_IMAGE,\n    MESSAGE_TYPE_STICKER,\n    MESSAGE_TYPE_TEXT,\n    PRIVATE_BOARD,\n    PRIVATE_CHAT\n} from \"../../constants/constants\";\nimport UserIcon from \"../../images/user_icon.svg\";\nimport PhotoIcon from \"../../images/ic_photo.png\";\nimport StickerIcon from \"../../images/ic_sticker.png\";\nimport CaroIcon from \"../../images/caro_icon.png\";\n\nimport SendIcon from \"../../images/ic_send.png\";\nimport {paramsToObject} from \"../../functions/functions\";\nimport firebase, {storage} from \"../../firebase\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ListSticker from \"../../theme/ListSticker\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport {NavLink} from \"react-router-dom\";\nimport * as links from \"../../constants/links\";\nimport * as gameActions from \"../../_actions/game\";\nimport Button from \"@material-ui/core/Button\";\nimport Input from \"@material-ui/core/Input\";\nimport {ReactComponent as PersonIcon} from \"../../images/person_icon.svg\";\nimport {ReactComponent as GroupIcon} from \"../../images/group_icon.svg\";\nimport i18n from \"../../i18n\";\nimport AppInput from \"../../theme/AppInput\";\nimport SuccessAlert from \"../../theme/Alert/SuccessAlert\";\nimport ErrorAlert from \"../../theme/Alert/ErrorAlert\";\nimport LoadingAction from \"../../theme/LoadingAction\";\nimport {withTranslation} from \"react-i18next\";\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n\nconst styles = theme => ({\n    chatBoardWrapper: {\n        display: 'flex',\n        alignItems: 'flex-start',\n        justifyContent: 'center',\n        margin: 'auto',\n        height: '100%',\n        flexDirection: 'column',\n        paddingLeft: '0.5rem',\n    },\n    notDataChatBoard: {\n        width: '100%',\n        textAlign: 'center',\n        fontWeight: 700,\n        color: '#123152',\n        fontSize: '1.2rem'\n    },\n    chatBoardHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '0.5rem 0rem',\n        width: '100%',\n        backgroundColor: '#a3d2ca',\n        color: '#123152',\n        fontWeight: 700,\n        borderRadius: 7,\n        '& img': {\n            width: 48,\n            height: 48,\n            borderRadius: '50%'\n        },\n        '& .chatBoxName': {\n            paddingLeft: '0.5rem'\n        }\n    },\n    contentWrapper: {\n        width: '100%',\n        backgroundColor: '#cffffe',\n        borderRadius: 7,\n        marginTop: '0.5rem',\n        padding: '0.5rem 1rem',\n    },\n    chatBoardContent: {\n        flexGrow: 1,\n        height: 250,\n        overflowY: 'scroll',\n        width: '100%',\n        padding: '1rem 0.5rem',\n        '&::-webkit-scrollbar': {\n            width: 9,\n            height: 9,\n        },\n        '&::-webkit-scrollbar-track': {\n            // background: '#ee6f57',\n            // borderRadius: 9,\n        },\n        '&::-webkit-scrollbar-thumb': {\n            background: '#ee6f57',\n            borderRadius: 9,\n        },\n    },\n    chatBoardInput: {\n        display: 'flex',\n        flexDirection: 'row',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: 50,\n        borderTop: '2px solid #123152',\n        width: '100%',\n        '& .icOpenGallery': {\n            width: 24,\n            height: 24,\n            marginLeft: 10,\n            cursor: 'pointer',\n        },\n        '& .viewInputGallery': {\n            opacity: 0,\n            position: 'absolute',\n            zIndex: -1,\n            left: 10,\n            width: 30,\n        },\n        '& .icOpenSticker': {\n            width: 24,\n            height: 24,\n            marginLeft: 5,\n            marginRight: 5,\n            cursor: 'pointer',\n        },\n        '& .icSend' : {\n            width: 24,\n            height: 24,\n            marginLeft: 5,\n            marginRight: 5,\n            cursor: 'pointer',\n        },\n        '& .viewInput' : {\n            flex: 1,\n            borderRadius: 4,\n            paddingLeft: 10,\n            paddingRight: 10,\n            border: 0,\n            height: 30,\n            color: '#123152',\n            '&::focus': {\n                outline: 0\n            }\n        },\n    },\n    createGroupBoardPopover: {\n        width: 480,\n        padding: '2rem 0.5rem',\n        display: 'flex',\n        flexDirection: 'column',\n        borderRadius: 11,\n    },\n    errorText: {\n        color: '#ec0101'\n    },\n    createPrivateBoardPopover: {\n        width: 480,\n        padding: '2rem 0.5rem',\n        display: 'flex',\n        flexDirection: 'column',\n        borderRadius: 11,\n    },\n    messageTypeCreate: {\n        width: '100%',\n        textAlign: 'center',\n        color: '#b52b65',\n        fontWeight: 600,\n        fontSize: '1.1rem',\n    },\n    itemMessage: {\n        padding: '1rem 0rem',\n    },\n    btnGoToChessBoard: {\n        backgroundColor: '#123152',\n        textTransform: 'initial',\n        padding: '0.5rem 1.5rem',\n        fontWeight: 600,\n        borderRadius: 9,\n        color: '#ffdead',\n        '&:hover': {\n            backgroundColor: '#123152',\n        },\n        '& img': {\n            width: 24,\n            height: 24,\n        },\n        '& .text': {\n            paddingLeft: '0.5rem'\n        }\n    },\n    contentImage: {\n        maxWidth: 240,\n        borderRadius: 9,\n    },\n    isMe: {\n        display: 'flex',\n        alignItems: 'flex-start',\n        justifyContent: 'flex-end',\n    },\n    notMe: {\n        display: 'flex',\n        alignItems: 'flex-start',\n        justifyContent: 'flex-start',\n    },\n    contentTextMessage: {\n        maxWidth: 360,\n        backgroundColor: '#00bcd4',\n        padding: '1rem 0.5rem',\n        borderRadius: 11,\n        color: '#fff',\n        fontWeight: 600,\n        '&.notMe': {\n            backgroundColor: '#ffdbc5',\n            color: '#123152'\n        }\n    },\n    avatarMessage: {\n        width: 40,\n        height: 36,\n        paddingRight: 4,\n        '& img': {\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%'\n        }\n    },\n    popoverSticker: {\n        width: 436,\n        height: 480,\n        padding: '1rem 0.5rem',\n\n    },\n    submitCreateBoard: {\n        backgroundColor: '#123152',\n        textTransform: 'initial',\n        padding: '0.5rem 1.5rem',\n        fontWeight: 600,\n        borderRadius: 9,\n        marginBottom: '1rem',\n        color: '#dfe3f1',\n        '&:hover': {\n            backgroundColor: '#123152',\n        }\n    },\n});\nclass ChatBoard extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            textInputValue: '',\n            popoverListSticker: null,\n            popoverCreateGroupBoard: null,\n            popoverCreatePrivateBoard: null,\n            // dataChessmans: [],\n            dataAllUsersGroupChat: [],\n            dataInitPrivateBoard: {\n                sizeChessBoard: 10,\n            },\n            dataInitGroupBoard: {\n                sizeChessBoard: 10,\n                dataChessmans: [],\n            },\n            showOptionsAllUsers: false,\n            successOpen: false,\n            errorOpen: false,\n            isLoading: false,\n            errors: {}\n        };\n\n\n        this.handleCloseNotice = this.handleCloseNotice.bind(this);\n        this.handleChange = this.handleChange.bind(this);\n        this.onSendMessage = this.onSendMessage.bind(this);\n        this.onKeyboardPressTextInput = this.onKeyboardPressTextInput.bind(this);\n        this.openPopoverListSticker = this.openPopoverListSticker.bind(this);\n        this.closePopoverListSticker = this.closePopoverListSticker.bind(this);\n        this.getSticker = this.getSticker.bind(this);\n        this.onChoosePhoto = this.onChoosePhoto.bind(this);\n        this.uploadPhoto = this.uploadPhoto.bind(this);\n        this.handleChessmansChange = this.handleChessmansChange.bind(this);\n\n        this.openPopoverCreateGroupBoard = this.openPopoverCreateGroupBoard.bind(this);\n        this.closePopoverCreateGroupBoard = this.closePopoverCreateGroupBoard.bind(this);\n        this.openPopoverCreatePrivateBoard = this.openPopoverCreatePrivateBoard.bind(this);\n        this.closePopoverCreatePrivateBoard = this.closePopoverCreatePrivateBoard.bind(this);\n\n        this.createPrivateBoard = this.createPrivateBoard.bind(this);\n        this.createGroupBoard = this.createGroupBoard.bind(this);\n\n        this.handleInitPrivateBoardChange = this.handleInitPrivateBoardChange.bind(this);\n        this.handleInitGroupBoardChange = this.handleInitGroupBoardChange.bind(this);\n        this.showOptionsAllUsersChatBoard = this.showOptionsAllUsersChatBoard.bind(this);\n    }\n\n    componentDidMount() {\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.props.dataInfoChatBoard && !this.state.showOptionsAllUsers) {\n            this.setState({\n                showOptionsAllUsers: true\n            })\n            this.showOptionsAllUsersChatBoard();\n        }\n    }\n\n    handleInitPrivateBoardChange(name, value) {\n        const {\n            dataInitPrivateBoard\n        } = this.state;\n        dataInitPrivateBoard[name] = value;\n        this.setState({\n            dataInitPrivateBoard: dataInitPrivateBoard\n        })\n    }\n\n    handleInitGroupBoardChange(name, value) {\n        const {\n            dataInitGroupBoard\n        } = this.state;\n        dataInitGroupBoard[name] = value;\n        this.setState({\n            dataInitGroupBoard: dataInitGroupBoard\n        })\n    }\n\n\n    onSendMessage(contentMessage, typeMessage) {\n        const {\n            dataUser\n        } = this.props;\n        const createdAt = new Date().getTime();\n        const dataMessage = {\n            createdAt: createdAt,\n            typeMessage: typeMessage,\n            contentMessage: contentMessage,\n            createdBy: dataUser.userId,\n        };\n        const urlParams = new URLSearchParams(window.location.search.substr(1));\n        const entries = urlParams.entries();\n        const params = paramsToObject(entries);\n        const {\n            idChatBoxCurrent\n        } = this.state;\n        if (params.hasOwnProperty('idChatBox')) {\n            const idChatBox = params.idChatBox;\n            firebase.database().ref('messages/' + idChatBox + '/' + createdAt).set(dataMessage, error => {\n                switch (typeMessage) {\n                    case MESSAGE_TYPE_TEXT:\n                        this.setState({\n                            textInputValue: ''\n                        })\n                        break;\n                    case MESSAGE_TYPE_CREATE_GROUP_BOARD:\n                        this.setState({\n                            popoverCreateGroupBoard: null\n                        })\n                        break;\n                    case MESSAGE_TYPE_CREATE_PRIVATE_BOARD:\n                        this.setState({\n                            popoverCreatePrivateBoard: null,\n                        })\n                        break;\n                    default:\n                        break;\n                }\n                if (error) {\n                   this.setState({\n                       errorOpen: true,\n                       isLoading: false,\n                   })\n                } else {\n                    this.setState({\n                        successOpen: true,\n                        isLoading: false,\n                    })\n                }\n            })\n        }\n    }\n    //\n    onChoosePhoto(event) {\n        if (event.target.files && event.target.files[0]) {\n            this.uploadPhoto(event.target.files[0]);\n        } else {\n            // this.setState({isLoading: false})\n        }\n    }\n\n    uploadPhoto(currentPhotoFile) {\n        const {\n            dataUser\n        } = this.props;\n        if (currentPhotoFile) {\n            const nameImage = dataUser.userId + '_' + new Date().getTime();\n            const uploadTask = storage.ref(`images/messages/${nameImage}`).put(currentPhotoFile);\n            this.setState({\n                isLoading: true\n            })\n\n            uploadTask.on('state_changed',\n                (snapshot) => {\n                    // progrss function ....\n                    const progressUploadBackground = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n                    this.setState({progressUploadBackground});\n                },\n                (error) => {\n                    // error function ....\n\n                },\n                () => {\n                    // complete function ....\n                    storage.ref('images/messages').child(nameImage).getDownloadURL().then(url => {\n                        this.onSendMessage(url, MESSAGE_TYPE_IMAGE);\n                    });\n                });\n        } else {\n            this.setState({isLoading: false})\n        }\n    }\n\n    onKeyboardPressTextInput(event) {\n        const {\n\n        } = this.state;\n        if (event.key === 'Enter' && this.state.textInputValue !== '') {\n            this.onSendMessage(this.state.textInputValue, MESSAGE_TYPE_TEXT);\n        }\n    }\n    //\n    // scrollToBottom = () => {\n    //     if (this.messagesEnd) {\n    //         this.messagesEnd.scrollIntoView({})\n    //     }\n    // }\n\n    handleChange(name, value) {\n        this.setState({\n            [name]: value\n        });\n    }\n\n    viewMessages() {\n        const {\n            classes,\n            dataUserAuth,\n            match,\n            dataMessagesChatBoard,\n        } = this.props;\n        let dataMessages = [];\n        for (let [key, value] of Object.entries(dataMessagesChatBoard)) {\n            dataMessages = [\n                ...dataMessages,\n                value\n            ]\n        }\n        return dataMessages;\n    }\n    viewItemMessage(dataItemMessage) {\n        const {\n            dataUser,\n            classes\n        } = this.props;\n        const {\n            dataAllUsersGroupChat\n        } = this.state;\n        let checkMe = false;\n        if (dataUser.userId === dataItemMessage.createdBy) {\n            checkMe = true;\n        }\n        let dataCreateBy = null;\n        dataAllUsersGroupChat.map((item, index) => {\n            if (item.userId === dataItemMessage.createdBy) {\n                dataCreateBy = item;\n            }\n        });\n\n        const typeMessage = dataItemMessage.typeMessage;\n        if (dataCreateBy) {\n            switch (typeMessage) {\n                case MESSAGE_TYPE_CREATE_CHAT_BOX:\n                    return <div className={classes.messageTypeCreate + ' ' + classes.itemMessage}>\n                        {i18n.t('chat.chat_board.chat_content.createChat',{user:dataCreateBy.displayName ? dataCreateBy.displayName :\n                                dataCreateBy.email ? dataCreateBy.email :\n                                    i18n.t('chat.user')})}\n                    </div>\n                    break;\n                case MESSAGE_TYPE_TEXT:\n                    return checkMe ? <div className={classes.isMe + ' ' + classes.itemMessage}>\n                        <div className={classes.contentTextMessage}>\n                            {dataItemMessage.contentMessage}\n                        </div>\n                    </div> : <div className={classes.notMe + ' ' + classes.itemMessage}>\n                        <div className={classes.avatarMessage}>\n                            <img src={dataCreateBy.avatarUrl ? dataCreateBy.avatarUrl : UserIcon} alt=\"\"/>\n                        </div>\n                        <div className={classes.contentTextMessage + ' notMe'}>\n                            {dataItemMessage.contentMessage}\n                        </div>\n                    </div>\n                    break;\n                case MESSAGE_TYPE_IMAGE:\n                case MESSAGE_TYPE_STICKER:\n                    return checkMe ? <div className={classes.isMe + ' ' + classes.itemMessage}>\n                        <img src={dataItemMessage.contentMessage} className={classes.contentImage} alt=\"\"/>\n                    </div> : <div className={classes.notMe + ' ' + classes.itemMessage}>\n                        <div className={classes.avatarMessage}>\n                            <img src={dataCreateBy.avatarUrl ? dataCreateBy.avatarUrl : UserIcon} alt=\"\"/>\n                        </div>\n                        <img src={dataItemMessage.contentMessage} className={classes.contentImage} alt=\"\"/>\n                    </div>\n                    break;\n                case MESSAGE_TYPE_CREATE_PRIVATE_BOARD:\n                    return checkMe ? <div className={classes.isMe + ' ' + classes.itemMessage}>\n                        <NavLink\n                            to={links.LINK_CHESS_BOARD.replace(\":idChessBoard\",dataItemMessage.contentMessage)}\n                        >\n                            <Button className={classes.btnGoToChessBoard}>\n                                <img src={CaroIcon} alt=\"\"/>\n                                <span className=\"text\">{i18n.t('chat.chat_board.chat_content.chessBoard')}</span>\n                            </Button>\n                        </NavLink>\n                    </div> : <div className={classes.notMe + ' ' + classes.itemMessage}>\n                        <div className={classes.avatarMessage}>\n                            <img src={dataCreateBy.avatarUrl ? dataCreateBy.avatarUrl : UserIcon} alt=\"\"/>\n                        </div>\n                        <NavLink\n                            to={links.LINK_CHESS_BOARD.replace(\":idChessBoard\",dataItemMessage.contentMessage)}\n                        >\n                            <Button className={classes.btnGoToChessBoard}>\n                                <img src={CaroIcon} alt=\"\"/>\n                                <span className=\"text\">{i18n.t('chat.chat_board.chat_content.chessBoard')}</span>\n                            </Button>\n                        </NavLink>\n                    </div>\n                    break;\n                case MESSAGE_TYPE_CREATE_GROUP_BOARD:\n                    return checkMe ? <div className={classes.isMe + ' ' + classes.itemMessage}>\n                        <NavLink\n                            to={links.LINK_CHESS_BOARD.replace(\":idChessBoard\",dataItemMessage.contentMessage)}\n                        >\n                            <Button className={classes.btnGoToChessBoard}>\n                                <img src={CaroIcon} alt=\"\"/>\n                                <span className=\"text\">{i18n.t('chat.chat_board.chat_content.chessBoard')}</span>\n                            </Button>\n                        </NavLink>\n                    </div> : <div className={classes.notMe + ' ' + classes.itemMessage}>\n                        <div className={classes.avatarMessage}>\n                            <img src={dataCreateBy.avatarUrl ? dataCreateBy.avatarUrl : UserIcon} alt=\"\"/>\n                        </div>\n                        <NavLink\n                            to={links.LINK_CHESS_BOARD.replace(\":idChessBoard\",dataItemMessage.contentMessage)}\n                        >\n                            <Button className={classes.btnGoToChessBoard}>\n                                <img src={CaroIcon} alt=\"\"/>\n                                <span className=\"text\">{i18n.t('chat.chat_board.chat_content.chessBoard')}</span>\n                            </Button>\n                        </NavLink>\n                    </div>\n                    break;\n                default:\n                    return '';\n                    break;\n            }\n        } else {\n            return '';\n        }\n    }\n\n    openPopoverCreateGroupBoard(event) {\n        this.showOptionsAllUsersChatBoard();\n        this.setState({\n            popoverCreateGroupBoard: event.currentTarget\n        })\n    }\n\n    openPopoverCreatePrivateBoard(event) {\n        this.setState({\n            popoverCreatePrivateBoard: event.currentTarget\n        })\n    }\n\n    createPrivateBoard() {\n        const {\n            dataInfoChatBoard,\n            dataUser\n        } = this.props;\n        const {\n            dataInitPrivateBoard\n        } = this.state;\n        const idChessBoard = dataUser.userId + '_' + dataInfoChatBoard.idChatBox + '_' + new Date().getTime();\n        const userCanViewBoard = {};\n        const dataMembersBoard = {};\n        for (let [key, value] of Object.entries(dataInfoChatBoard.dataMembers)) {\n            dataMembersBoard[key] = value;\n        }\n        const dataChessBoard = {\n            idChessBoard: idChessBoard,\n            dataBoard: {\n                sizeChessBoard: dataInitPrivateBoard.sizeChessBoard,\n            },\n            userIdChessmanA: dataUser.userId,\n            userIdChessmanB: null,\n            chessBoardType: PRIVATE_BOARD,\n            createBy: dataUser.userId,\n            dataMembersBoard: dataMembersBoard,\n            chessBoardOpen: false,\n        }\n        this.setState({\n            isLoading: true\n        })\n\n        firebase.database().ref('chessBoards/' + idChessBoard).set(dataChessBoard, (error) => {\n            if (error) {\n                this.setState({\n                    errorOpen: true\n                })\n            } else {\n                this.onSendMessage(idChessBoard, MESSAGE_TYPE_CREATE_PRIVATE_BOARD);\n            }\n        });\n\n    }\n\n    createGroupBoard() {\n        const {\n            dataInfoChatBoard,\n            dataUser\n        } = this.props;\n        const {\n            dataInitGroupBoard\n        } = this.state;\n        if (dataInitGroupBoard.dataChessmans.length === 2) {\n            this.setState({\n                isLoading: true\n            })\n            const idChessBoard = dataUser.userId + '_' + dataInfoChatBoard.idChatBox + '_' + new Date().getTime();\n            const dataMembersBoard = {};\n            for (let [key, value] of Object.entries(dataInfoChatBoard.dataMembers)) {\n                dataMembersBoard[key] = value;\n            }\n            const dataChessBoard = {\n                idChessBoard: idChessBoard,\n                dataBoard: {\n                    sizeChessBoard: dataInitGroupBoard.sizeChessBoard,\n                },\n                userIdChessmanA: dataInitGroupBoard.dataChessmans[0].userId,\n                userIdChessmanB: dataInitGroupBoard.dataChessmans[1].userId,\n                chessBoardType: GROUP_BOARD,\n                createBy: dataUser.userId,\n                dataMembersBoard: dataMembersBoard,\n                chessBoardOpen: false,\n            }\n            firebase.database().ref('chessBoards/' + idChessBoard).set(dataChessBoard, (error) => {\n                if (error) {\n                    this.setState({\n                        errorOpen: true\n                    })\n                } else {\n                    this.onSendMessage(idChessBoard, MESSAGE_TYPE_CREATE_GROUP_BOARD);\n                }\n            });\n        } else {\n            const {\n                errors\n            } = this.state;\n            errors.selectUser = i18n.t('chat.chat_board.create_chess_board.errors.selectUser')\n            this.setState({\n                errorOpen: true,\n                errors: errors\n            })\n        }\n    }\n\n    closePopoverCreateGroupBoard() {\n        this.setState({\n            popoverCreateGroupBoard: null\n        });\n    }\n\n    closePopoverCreatePrivateBoard() {\n        this.setState({\n            popoverCreatePrivateBoard: null\n        });\n    }\n\n    openPopoverListSticker(event) {\n        this.setState({\n            popoverListSticker: event.currentTarget\n        })\n    }\n\n    closePopoverListSticker() {\n        this.setState({\n            popoverListSticker: null\n        });\n    }\n\n    getSticker(urlSticker) {\n        this.onSendMessage(urlSticker, MESSAGE_TYPE_STICKER);\n        this.setState({\n            popoverListSticker: null\n        });\n    }\n\n    handleChessmansChange(event, value) {\n        const {\n            dataInitGroupBoard,\n            errors\n        } = this.state;\n        delete errors.selectUser;\n\n        dataInitGroupBoard.dataChessmans = value;\n        this.setState({\n            dataInitGroupBoard: dataInitGroupBoard,\n            errors: errors\n        })\n    }\n\n    showOptionsAllUsersChatBoard() {\n        const {\n            dataInfoChatBoard\n        } = this.props;\n        let dataAllUsersGroupChat = [];\n        if (dataInfoChatBoard && dataInfoChatBoard.dataMembers) {\n            for (let [key, value] of Object.entries(dataInfoChatBoard.dataMembers)) {\n                dataAllUsersGroupChat.push(value);\n            }\n        }\n\n        this.setState({\n            dataAllUsersGroupChat: dataAllUsersGroupChat\n        })\n    }\n\n    handleCloseNotice() {\n        this.setState({\n            successOpen: false,\n            errorOpen: false,\n        });\n    }\n\n    render() {\n        const {\n            board,\n            idChatBoxCurrent,\n            textInputValue,\n            popoverListSticker,\n            dataChessmans,\n            popoverCreateGroupBoard,\n            dataAllUsersGroupChat,\n            popoverCreatePrivateBoard,\n            dataInitPrivateBoard,\n            dataInitGroupBoard,\n            successOpen,\n            errorOpen,\n            isLoading,\n            errors\n        } = this.state;\n        const {\n            classes,\n            dataUserAuth,\n            match,\n            dataMessagesChatBoard,\n            dataInfoChatBoard,\n            dataUser,\n        } = this.props;\n\n        let chatBoxIcon = null;\n        let chatBoxName = '';\n        if (dataInfoChatBoard) {\n            if (dataInfoChatBoard.chatBoxType === PRIVATE_CHAT) {\n                let dataFriend = null;\n                for (let [key, value] of Object.entries(dataInfoChatBoard.dataMembers)) {\n                    if (dataUser.userId !== key) {\n                        dataFriend = value;\n                    }\n                }\n                if (dataFriend.avatarUrl) {\n                    chatBoxIcon = dataFriend.avatarUrl;\n                }\n                chatBoxName = dataFriend.displayName ? dataFriend.displayName :\n                    dataFriend.email ? dataFriend.email  : i18n.t('chat.user');\n            } else if (dataInfoChatBoard.chatBoxType === GROUP_CHAT) {\n                chatBoxIcon = dataInfoChatBoard.photoChatBox;\n                chatBoxName = dataInfoChatBoard.nameGroupChat;\n                if (!chatBoxName) {\n                    let countUserDisplayName = 0;\n                    for (let [key, value] of Object.entries(dataInfoChatBoard.dataMembers)) {\n                        if (dataUser.userId !== key && countUserDisplayName < 2) {\n                            chatBoxName += value.displayName ? value.displayName :\n                                value.email ? value.email :\n                                    i18n.t('chat.user') + ', ';\n                            countUserDisplayName += 1;\n                        }\n                    }\n                }\n\n            }\n        }\n\n        return (\n\n            <div className={classes.chatBoardWrapper}>\n                {isLoading && <LoadingAction />}\n                {dataInfoChatBoard ? <React.Fragment>\n                    <div className={classes.chatBoardHeader}>\n                        {chatBoxIcon ? <img src={chatBoxIcon} alt=\"\"/> : (dataInfoChatBoard.chatBoxType === PRIVATE_CHAT) ? <PersonIcon width={48} height={48}/> : <GroupIcon width={48} height={48} />}\n                        <span className=\"chatBoxName\">{chatBoxName}</span>\n                    </div>\n                    <div className={classes.contentWrapper}>\n                        <div className={classes.chatBoardContent}>\n                            {dataMessagesChatBoard && this.viewMessages().map((item, index) => {\n                                return this.viewItemMessage(item)\n                            })}\n                        </div>\n                        <div className={classes.chatBoardInput}>\n                            <img\n                                className=\"icOpenGallery\"\n                                src={PhotoIcon}\n                                alt=\"icon open gallery\"\n                                onClick={() => this.refInput.click()}\n                            />\n                            <input\n                                ref={el => {\n                                    this.refInput = el\n                                }}\n                                accept=\"image/*\"\n                                className=\"viewInputGallery\"\n                                type=\"file\"\n                                onChange={this.onChoosePhoto}\n                            />\n\n                            <img\n                                className=\"icOpenSticker\"\n                                src={StickerIcon}\n                                alt=\"icon open sticker\"\n                                onClick={this.openPopoverListSticker}\n                            />\n                            { popoverListSticker && <Popover\n                                open={true}\n                                anchorEl={popoverListSticker}\n                                onClose={this.closePopoverListSticker}\n                                anchorOrigin={{\n                                    vertical: 'top',\n                                    horizontal: 'center',\n                                }}\n                                transformOrigin={{\n                                    vertical: 'bottom',\n                                    horizontal: 'left',\n                                }}\n                            >\n                                <div className={classes.popoverSticker}>\n                                    <ListSticker\n                                        getSticker={this.getSticker}\n                                    />\n                                </div>\n                            </Popover>}\n                            {\n                                dataInfoChatBoard\n                                    ?\n                                    dataInfoChatBoard.chatBoxType === GROUP_CHAT\n                                        ?\n                                        <React.Fragment>\n                                            <img\n                                                className=\"icOpenSticker\"\n                                                src={CaroIcon}\n                                                alt=\"icon open sticker\"\n                                                onClick={this.openPopoverCreateGroupBoard}\n                                            />\n                                            {popoverCreateGroupBoard && <Popover\n                                                open={true}\n                                                anchorEl={popoverCreateGroupBoard}\n                                                onClose={this.closePopoverCreateGroupBoard}\n                                                anchorOrigin={{\n                                                    vertical: 'top',\n                                                    horizontal: 'center',\n                                                }}\n                                                transformOrigin={{\n                                                    vertical: 'bottom',\n                                                    horizontal: 'left',\n                                                }}\n                                            >\n                                                <div className={classes.createGroupBoardPopover}>\n                                                    <Autocomplete\n                                                        multiple\n                                                        id=\"checkboxes-tags-demo\"\n                                                        options={dataAllUsersGroupChat}\n                                                        disableCloseOnSelect\n                                                        getOptionLabel={(option) => option.displayName}\n                                                        onChange={this.handleChessmansChange}\n                                                        renderOption={(option, {selected}) => (\n                                                            <React.Fragment>\n                                                                <Checkbox\n                                                                    icon={icon}\n                                                                    checkedIcon={checkedIcon}\n                                                                    style={{marginRight: 8}}\n                                                                    checked={selected}\n                                                                />\n                                                                {option.displayName}\n                                                            </React.Fragment>\n                                                        )}\n                                                        renderInput={(params) => (\n                                                            <TextField {...params} variant=\"outlined\" label={i18n.t('chat.chat_page.selectUser')}\n                                                                       placeholder={i18n.t('chat.chat_page.selectUser')}/>\n                                                        )}\n                                                    />\n                                                    {errors.selectUser && <div className={classes.errorText}>\n                                                        {errors.selectUser}\n                                                    </div>}\n                                                    <AppInput\n                                                        type=\"number\"\n                                                        name=\"sizeChessBoard\"\n                                                        value={dataInitPrivateBoard.sizeChessBoard}\n                                                        onChange={(event) => this.handleInitPrivateBoardChange('sizeChessBoard', event.target.value)}\n                                                        inputProps={{\n                                                            min: 10,\n                                                            max: 20\n                                                        }}\n                                                    />\n                                                    <Button\n                                                        className={classes.submitCreateBoard}\n                                                        onClick={this.createGroupBoard}\n                                                    >\n                                                        {i18n.t('welcome.createChessBoard')}\n                                                    </Button>\n                                                </div>\n                                            </Popover>}\n                                        </React.Fragment>\n                                        :\n                                        (dataInfoChatBoard.chatBoxType === PRIVATE_CHAT)\n                                            ?\n                                            <React.Fragment>\n                                                <img\n                                                    className=\"icOpenSticker\"\n                                                    src={CaroIcon}\n                                                    alt=\"icon open sticker\"\n                                                    onClick={this.openPopoverCreatePrivateBoard}\n                                                />\n                                                {popoverCreatePrivateBoard && <Popover\n                                                    open={true}\n                                                    anchorEl={popoverCreatePrivateBoard}\n                                                    onClose={this.closePopoverCreatePrivateBoard}\n                                                    anchorOrigin={{\n                                                        vertical: 'top',\n                                                        horizontal: 'center',\n                                                    }}\n                                                    transformOrigin={{\n                                                        vertical: 'bottom',\n                                                        horizontal: 'left',\n                                                    }}\n                                                >\n                                                    <div className={classes.createPrivateBoardPopover}>\n                                                        <Input\n                                                            type=\"number\"\n                                                            name=\"sizeChessBoard\"\n                                                            value={dataInitPrivateBoard.sizeChessBoard}\n                                                            onChange={(event) => this.handleInitPrivateBoardChange('sizeChessBoard', event.target.value)}\n                                                            inputProps={{\n                                                                min: 10,\n                                                                max: 20\n                                                            }}\n                                                        />\n                                                        <Button\n                                                            className={classes.submitCreateBoard}\n                                                            onClick={this.createPrivateBoard}\n                                                        >\n                                                            {i18n.t('welcome.createChessBoard')}\n                                                        </Button>\n                                                    </div>\n                                                </Popover>}\n                                            </React.Fragment>\n                                            :\n                                            ''\n                                    :\n                                    ''\n                            }\n                            <input\n                                className=\"viewInput\"\n                                placeholder={i18n.t('chat.chat_board.input_text')}\n                                value={textInputValue}\n                                onChange={(event) => this.handleChange('textInputValue', event.target.value)}\n                                onKeyPress={this.onKeyboardPressTextInput}\n                            />\n                            <img\n                                className=\"icSend\"\n                                src={SendIcon}\n                                alt=\"icon send\"\n                                onClick={() => {\n                                    if (textInputValue !== '') {\n                                        this.onSendMessage(textInputValue, MESSAGE_TYPE_TEXT)\n                                    }\n                                }}\n                            />\n                        </div>\n                    </div>\n                </React.Fragment> : <div className={classes.notDataChatBoard}>\n                    {i18n.t('chat.chat_board.not_data_chat_board', {\"name\": dataUser.displayName ? dataUser.displayName : \"\"})}\n                    </div>}\n                <SuccessAlert\n                    snackbarProps={{\n                        open:successOpen,\n                        onClose:this.handleCloseNotice,\n                    }}\n                    message={i18n.t('alert.success')}\n                />\n                <ErrorAlert\n                    snackbarProps={{\n                        open:errorOpen,\n                        onClose:this.handleCloseNotice,\n                    }}\n                    message={i18n.t('alert.error')}\n                />\n            </div>\n        );\n    }\n}\n\nChatBoard.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n    dataUserAuth: state.authReducer.dataUserAuth,\n    dataMessagesChatBoard: state.gameReducer.dataMessagesChatBoard,\n    dataUser: state.gameReducer.dataUser,\n    dataInfoChatBoard: state.gameReducer.dataInfoChatBoard,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n\n    }\n};\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withStyles(styles),\n    withTranslation(),\n) (ChatBoard);\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport PropTypes from \"prop-types\";\nimport {compose} from \"redux\";\nimport Footer from \"../Footer\";\nimport Header from \"../Header\";\nimport Content from \"../Content\";\nimport ListChatBoard from \"./ListChatBoard\";\nimport firebase, {storage} from \"../../firebase\";\nimport ChatBoard from \"./ChatBoard\";\nimport Button from \"@material-ui/core/Button\";\nimport {ReactComponent as PersonIcon} from \"../../images/person_icon.svg\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport UploadPhoto from \"../../theme/UploadPhoto\";\nimport Input from \"@material-ui/core/Input\";\nimport {GROUP_CHAT, MESSAGE_TYPE_CREATE_CHAT_BOX, PRIVATE_CHAT} from \"../../constants/constants\";\nimport {paramsToObject} from \"../../functions/functions\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport { ReactComponent as GroupIcon } from \"./../../images/group_icon.svg\";\nimport i18n from \"../../i18n\";\nimport AppInput from \"../../theme/AppInput\";\nimport * as gameActions from \"../../_actions/game\";\nimport SuccessAlert from \"../../theme/Alert/SuccessAlert\";\nimport ErrorAlert from \"../../theme/Alert/ErrorAlert\";\nimport {withTranslation} from \"react-i18next\";\n\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\n\n\nconst styles = theme => ({\n    chatPageWrapper: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        height: '100%',\n        flexDirection: 'column',\n        overflowY: 'scroll',\n        backgroundColor: '#e0ece4',\n        borderRadius: 9,\n        margin: '0.5rem 1rem',\n        '&::-webkit-scrollbar': {\n            width: 9,\n            height: 9,\n        },\n        '&::-webkit-scrollbar-track': {\n            // background: '#ee6f57',\n            // borderRadius: 9,\n        },\n        '&::-webkit-scrollbar-thumb': {\n            borderRadius: 9,\n            background: '#ee6f57',\n        },\n    },\n    actionChat: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '0.5rem 0rem',\n    },\n    createPrivateChat: {\n        '& .btnOpenPopover': {\n            '& span.plus': {\n                fontWeight: 700,\n                fontSize: '1.2rem',\n                color: '#206a5d',\n                padding: '0rem 0.5rem'\n            },\n            '& svg': {\n                '& path': {\n                    fill: '#00334e',\n                    stroke: '#00334e'\n                }\n            }\n        }\n    },\n    createGroupChat: {\n        '& .btnOpenPopover': {\n            '& span.plus': {\n                fontWeight: 700,\n                fontSize: '1.2rem',\n                color: '#206a5d',\n                padding: '0rem 0.5rem'\n            },\n            '& svg': {\n                '& path': {\n                    fill: '#00334e',\n                    stroke: '#00334e'\n                }\n            }\n        }\n    },\n    contentChat: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        padding: '0rem 0.5rem',\n        justifyContent: 'flex-end',\n    },\n    viewListChatBoard: {\n        height: '100%',\n        backgroundColor: '#8fc0a9',\n        width: 250,\n        borderRadius: 7,\n        padding: '1rem 0.5rem',\n    },\n    viewChatBoard: {\n        flexGrow: 1,\n    },\n    listChat: {\n\n    },\n    createPrivateChatPopover: {\n        padding: '2rem 1rem',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        borderRadius: 11,\n        width: 400,\n        '& .btnCreate': {\n            margin: '1rem 0rem',\n            backgroundColor: '#123152',\n            textTransform: 'initial',\n            padding: '0.5rem 1.5rem',\n            fontWeight: 600,\n            borderRadius: 9,\n            marginBottom: '1rem',\n            color: '#dfe3f1',\n            '&:hover': {\n                backgroundColor: '#123152',\n            }\n        }\n    },\n    createGroupChatPopover: {\n        padding: '2rem 1rem',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        '& .btnCreate': {\n            margin: '1rem 0rem',\n            backgroundColor: '#123152',\n            textTransform: 'initial',\n            padding: '0.5rem 1.5rem',\n            fontWeight: 600,\n            borderRadius: 9,\n            marginBottom: '1rem',\n            color: '#dfe3f1',\n            '&:hover': {\n                backgroundColor: '#123152',\n            }\n        }\n    },\n    photoChatBox: {\n        width: 300,\n        height: 300,\n        margin: '0.5rem 0rem',\n    },\n    nameGroupInput: {\n        '& input': {\n            background: '#e0ece4',\n            color: '#123152',\n        },\n    }\n});\n\nclass ChatPage extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            dataAllUsers: [],\n            idChatBoxCurrent: null,\n            popoverCreatePrivateChat: null,\n            popoverCreateGroupChat: null,\n\n            dataUserPrivateChat: null,\n            dataUserGroupChat: [],\n\n            checkCreatePrivateChat1: false,\n            checkCreatePrivateChat2: false,\n\n            photoChatBox: null,\n            photoChatBoxPreview: '',\n            photoChatBoxName: '',\n            progressUploadBackground: 0,\n            nameGroupChat: '',\n            successOpen: false,\n            errorOpen: false,\n        };\n\n        this.handleCloseNotice = this.handleCloseNotice.bind(this);\n        this.openPopoverCreatePrivateChat = this.openPopoverCreatePrivateChat.bind(this);\n        this.closePopoverCreatePrivateChat = this.closePopoverCreatePrivateChat.bind(this);\n        this.openPopoverCreateGroupChat = this.openPopoverCreateGroupChat.bind(this);\n        this.closePopoverCreateGroupChat = this.closePopoverCreateGroupChat.bind(this);\n\n        this.createPrivateChat = this.createPrivateChat.bind(this);\n        this.submitPrivateChat = this.submitPrivateChat.bind(this);\n        this.createGroupChat = this.createGroupChat.bind(this);\n        this.submitGroupChat = this.submitGroupChat.bind(this);\n        this.handleGroupChatChange = this.handleGroupChatChange.bind(this);\n        this.handlePhotoChatBox = this.handlePhotoChatBox.bind(this);\n        this.removePhotoChatBox = this.removePhotoChatBox.bind(this);\n        this.inputAvatarRef = React.createRef();\n        this.handleChange = this.handleChange.bind(this);\n        this.handlePrivateChatChange = this.handlePrivateChatChange.bind(this);\n    }\n\n    componentDidMount() {\n\n    }\n\n    showAllUsers() {\n        firebase.database().ref('users').on('value', (snap) => {\n            if (snap.val()) {\n                let dataAllUsersTemp = [];\n                Object.keys(snap.val()).map((key, index)=>{\n                    if (key !== this.props.dataUserAuth.uid) {\n                        dataAllUsersTemp.push(snap.val()[key]);\n                    }\n                });\n                this.setState({\n                    dataAllUsers: dataAllUsersTemp\n                })\n            }\n        });\n    }\n\n\n    handleChange(name, value) {\n        this.setState({\n            [name]: value\n        })\n    }\n\n    handlePhotoChatBox(event) {\n        this.setState({\n            photoChatBox: event.target.files[0],\n            photoChatBoxPreview: URL.createObjectURL(event.target.files[0]),\n            photoChatBoxName: event.target.files[0].name,\n        });\n    }\n\n    removePhotoChatBox() {\n        this.setState({\n            photoChatBox: null,\n            photoChatBoxPreview: '',\n            photoChatBoxName: '',\n        });\n    }\n\n    createPrivateChat() {\n        const {\n            dataUserAuth,\n            dataUser\n        } = this.props;\n        const {\n            dataUserPrivateChat\n        } = this.state;\n\n        if (dataUserPrivateChat) {\n            const idChatBox = dataUserAuth.uid + '_' + dataUserPrivateChat.userId;\n            // check Exist Private Chat 1\n            firebase.database().ref('chats').orderByChild('idChatBox').equalTo(idChatBox).valueOf().on('value', (snap) => {\n                if (snap.val()) {\n                    this.setState({\n                        popoverCreatePrivateChat: null,\n                    });\n                } else {\n                    this.setState({\n                        checkCreatePrivateChat1: true\n                    });\n                }\n            });\n\n            // check Exist Private Chat 2\n            const idChatBox2 = dataUserPrivateChat.userId + '_' + dataUserAuth.uid;\n            firebase.database().ref('chats').orderByChild('idChatBox').equalTo(idChatBox2).valueOf().on('value', (snap) => {\n                if (snap.val()) {\n                    this.setState({\n                        popoverCreatePrivateChat: null,\n                    });\n                } else {\n                    this.setState({\n                        checkCreatePrivateChat2: true\n                    });\n                }\n            });\n\n        }\n    }\n\n    submitPrivateChat() {\n        const {\n            dataUserPrivateChat,\n        } = this.state;\n        const {\n            dataUserAuth,\n            dataUser,\n        } = this.props;\n        // create chatBox\n        const idChatBox = dataUserAuth.uid + '_' + dataUserPrivateChat.userId;\n        const dataInitChatBox = {\n            idChatBox: idChatBox,\n            statusChatBox: 2,\n            photoChatBox: null,\n            chatBoxType: PRIVATE_CHAT,\n            updatedAt: new Date().getTime(),\n        };\n        const dataMembers = {\n            [dataUser.userId]: dataUser,\n            [dataUserPrivateChat.userId]: dataUserPrivateChat,\n        };\n\n        dataInitChatBox[dataUser.userId + '_checkUpdate'] = 2;\n        dataInitChatBox[dataUserPrivateChat.userId + '_checkUpdate'] = 1;\n        dataInitChatBox[dataUser.userId + '_checkMember'] = true\n        dataInitChatBox[dataUserPrivateChat.userId + '_checkMember'] = true;\n        dataInitChatBox.dataMembers = dataMembers;\n\n        firebase.database().ref('chats/' + idChatBox).set(dataInitChatBox, (error) => {\n            if (error) {\n                this.setState({\n                    popoverCreatePrivateChat: null,\n                })\n            } else {\n                const createdAt = new Date().getTime();\n                const dataMessage = {\n                    createdAt: createdAt,\n                    typeMessage: MESSAGE_TYPE_CREATE_CHAT_BOX,\n                    content: null,\n                };\n                firebase.database().ref('messages/' + idChatBox + '/' + createdAt).set(dataMessage, error => {\n                    if (error) {\n                        this.setState({\n                            popoverCreatePrivateChat: null,\n                            photoChatBox: null,\n                            photoChatBoxPreview: '',\n                            photoChatBoxName: '',\n                        })\n                    } else {\n                        this.setState({\n                            popoverCreatePrivateChat: null,\n                            photoChatBox: null,\n                            photoChatBoxPreview: '',\n                            photoChatBoxName: '',\n                        })\n                    }\n                })\n            }\n        });\n    }\n\n    createGroupChat() {\n        const {\n            dataUserAuth,\n            dataUser,\n        } = this.props;\n        const {\n            dataUserGroupChat,\n            nameGroupChat,\n            photoChatBox,\n            photoChatBoxPreview,\n            photoChatBoxName,\n        } = this.state;\n        if (Array.isArray(dataUserGroupChat) && dataUserGroupChat.length) {\n\n            // create chatBox\n            const idChatBox = dataUserAuth.uid + '_' + new Date().getTime();\n            if (photoChatBox) {\n                const nameImage = idChatBox + '_' + new Date().getTime();\n                const uploadTask = storage.ref(`images/photoChatBox/${nameImage}`).put(photoChatBox);\n                this.setState({\n                    isLoading: true\n                })\n\n                uploadTask.on('state_changed',\n                    (snapshot) => {\n                        // progrss function ....\n                        const progressUploadBackground = Math.round((snapshot.bytesTransferred / snapshot.totalBytes) * 100);\n                        this.setState({progressUploadBackground});\n                    },\n                    (error) => {\n                        // error function ....\n                        this.setState({\n                            progressUploadBackground: 0,\n                            isLoading: false,\n                            photoChatBox: null,\n                            photoChatBoxPreview: '',\n                            photoChatBoxName: '',\n                        });\n                    },\n                    () => {\n                        // complete function ....\n                        storage.ref('images/photoChatBox').child(nameImage).getDownloadURL().then(url => {\n                            this.submitGroupChat(idChatBox, url);\n                        });\n                    });\n\n            } else {\n                this.submitGroupChat(idChatBox);\n            }\n        }\n    }\n\n    submitGroupChat(idChatBox, photoChatBox) {\n        const {\n            dataUserAuth,\n            dataUser,\n        } = this.props;\n        const {\n            dataUserGroupChat,\n            nameGroupChat,\n        } = this.state;\n        // let dataMembers = [];\n        const dataUserId = {\n            [dataUser.userId + '_checkUpdate']: 2\n        };\n        const dataMembers = {\n            [dataUser.userId]: dataUser\n        };\n        const dataUserIdCheckMember = {\n            [dataUser.userId + '_checkMember']: true\n        };\n        // dataMembers.push(dataUser);\n        dataUserGroupChat.map((item, index) => {\n            // dataMembers.push(item);\n            dataUserId[item.userId + '_checkUpdate'] = 1;\n            dataMembers[item.userId] = item;\n            dataUserIdCheckMember[item.userId + '_checkMember'] = true;\n        });\n        const dataInitChatBox = {\n            idChatBox: idChatBox,\n            statusChatBox: 2,\n            photoChatBox: photoChatBox ? photoChatBox : null,\n            nameGroupChat: nameGroupChat,\n            createdBy: dataUserAuth.uid,\n            chatBoxType: GROUP_CHAT,\n            updatedAt: new Date().getTime(),\n            dataMembers: dataMembers,\n            ...dataUserId,\n            ...dataUserIdCheckMember\n        };\n\n\n        firebase.database().ref('chats/' + idChatBox).set(dataInitChatBox, (error) => {\n            if (error) {\n                this.setState({\n                    popoverCreateGroupChat: null,\n                    photoChatBox: null,\n                    photoChatBoxPreview: '',\n                    photoChatBoxName: '',\n                })\n            } else {\n                const createdAt = new Date().getTime();\n                const dataMessage = {\n                    createdAt: createdAt,\n                    typeMessage: MESSAGE_TYPE_CREATE_CHAT_BOX,\n                    contentMessage: null,\n                    createdBy: null,\n                };\n                firebase.database().ref('messages/' + idChatBox + '/' + createdAt).set(dataMessage, error => {\n                    if (error) {\n                        this.setState({\n                            popoverCreateGroupChat: null,\n                            photoChatBox: null,\n                            photoChatBoxPreview: '',\n                            photoChatBoxName: '',\n                        })\n                    } else {\n                        this.setState({\n                            popoverCreateGroupChat: null,\n                            photoChatBox: null,\n                            photoChatBoxPreview: '',\n                            photoChatBoxName: '',\n                        })\n                    }\n                })\n\n            }\n        });\n    }\n\n    handlePrivateChatChange(event, value) {\n        this.setState({\n            dataUserPrivateChat: value,\n        })\n    }\n\n    handleGroupChatChange(event, value) {\n        this.setState({\n            dataUserGroupChat: value,\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const {\n            checkCreatePrivateChat1,\n            checkCreatePrivateChat2,\n            dataUserPrivateChat,\n            idChatBoxChange,\n        } = this.state;\n        const {\n            dataUserAuth,\n            dataUser,\n        } = this.props;\n        if (checkCreatePrivateChat1 && checkCreatePrivateChat2) {\n            this.setState({\n                checkCreatePrivateChat1: false,\n                checkCreatePrivateChat2: false\n            });\n            this.submitPrivateChat();\n        }\n\n        //\n        const urlParams = new URLSearchParams(window.location.search.substr(1));\n        const entries = urlParams.entries();\n        const params = paramsToObject(entries);\n        const {\n            idChatBoxCurrent\n        } = this.state;\n        if (params.hasOwnProperty('idChatBox') && idChatBoxChange) {\n            const idChatBox = params.idChatBox;\n            if (idChatBox !== idChatBoxCurrent) {\n                this.setState({\n                    idChatBoxCurrent: idChatBox,\n                    idChatBoxChange: false\n                });\n                this.props.setDataMessagesChatBoard(idChatBox);\n                this.props.setDataInfoChatBoard(idChatBox);\n            }\n        }\n    }\n\n    showDataChatBoard(idChatBox) {\n        firebase.database().ref('messages/' + idChatBox).on('value', (snap) => {\n            if (snap.val()) {\n               console.log(snap.val());\n            }\n        });\n    }\n\n\n    openPopoverCreatePrivateChat(event) {\n        this.showAllUsers();\n        this.setState({\n            popoverCreatePrivateChat: event.currentTarget\n        })\n    }\n\n    closePopoverCreatePrivateChat() {\n        this.setState({\n            popoverCreatePrivateChat: null,\n            dataUserPrivateChat: null\n        })\n    }\n\n    openPopoverCreateGroupChat(event) {\n        this.showAllUsers();\n        this.setState({\n            popoverCreateGroupChat: event.currentTarget\n        })\n    }\n\n    closePopoverCreateGroupChat() {\n        this.setState({\n            popoverCreateGroupChat: null\n        })\n    }\n\n    handleCloseNotice() {\n        this.setState({\n            successOpen: false,\n            errorOpen: false,\n        });\n    }\n    render() {\n        const {\n            popoverCreatePrivateChat,\n            popoverCreateGroupChat,\n            dataAllUsers,\n            dataUserPrivateChat,\n            dataUserGroupChat,\n            dataAllChatBox,\n            nameGroupChat,\n            photoChatBox,\n            photoChatBoxPreview,\n            photoChatBoxName,\n            progressUploadBackground,\n            successOpen,\n            errorOpen,\n        } = this.state;\n        const {\n            classes,\n            dataUserAuth,\n            dataUser\n        } = this.props;\n        // console.log(match);\n\n        return (\n            <React.Fragment>\n                <Header />\n                <Content>\n                    <div className={classes.chatPageWrapper}>\n                        <div className={classes.actionChat}>\n                            <div className={classes.createPrivateChat}>\n                                <Button\n                                    className=\"btnOpenPopover\"\n                                    onClick={this.openPopoverCreatePrivateChat}\n                                >\n                                    <span className=\"plus\">+</span>\n                                    <PersonIcon />\n                                </Button>\n                                { popoverCreatePrivateChat && <Popover\n                                    open={true}\n                                    anchorEl={popoverCreatePrivateChat}\n                                    onClose={this.closePopoverCreatePrivateChat}\n                                    anchorOrigin={{\n                                        vertical: 'bottom',\n                                        horizontal: 'center',\n                                    }}\n                                    transformOrigin={{\n                                        vertical: 'top',\n                                        horizontal: 'center',\n                                    }}\n                                >\n                                    <div className={classes.createPrivateChatPopover}>\n                                        <Autocomplete\n                                            id=\"combo-box-demo\"\n                                            options={dataAllUsers}\n                                            getOptionLabel={(option) => option.displayName}\n                                            style={{ width: 300 }}\n                                            onChange={this.handlePrivateChatChange}\n                                            renderInput={(params) => <TextField {...params} label={i18n.t('chat.chat_page.selectUser')} variant=\"outlined\" />}\n                                        />\n                                        <Button\n                                            className=\"btnCreate\"\n                                            onClick={this.createPrivateChat}\n                                        >\n                                            {i18n.t('chat.chat_page.btnCreatePrivate')}\n                                        </Button>\n                                    </div>\n                                </Popover>}\n                            </div>\n                            <div className={classes.createGroupChat}>\n                                <Button\n                                    className=\"btnOpenPopover\"\n                                    onClick={this.openPopoverCreateGroupChat}\n                                >\n                                    <span className=\"plus\">+</span>\n                                    <GroupIcon />\n                                </Button>\n                                { popoverCreateGroupChat && <Popover\n                                    open={true}\n                                    anchorEl={popoverCreateGroupChat}\n                                    onClose={this.closePopoverCreateGroupChat}\n                                    anchorOrigin={{\n                                        vertical: 'bottom',\n                                        horizontal: 'center',\n                                    }}\n                                    transformOrigin={{\n                                        vertical: 'top',\n                                        horizontal: 'center',\n                                    }}\n                                >\n                                    <div className={classes.createGroupChatPopover}>\n                                        <Autocomplete\n                                            multiple\n                                            id=\"checkboxes-tags-demo\"\n                                            options={dataAllUsers}\n                                            disableCloseOnSelect\n                                            getOptionLabel={(option) => option.displayName}\n                                            onChange={this.handleGroupChatChange}\n                                            renderOption={(option, { selected }) => (\n                                                <React.Fragment>\n                                                    <Checkbox\n                                                        icon={icon}\n                                                        checkedIcon={checkedIcon}\n                                                        style={{ marginRight: 8 }}\n                                                        checked={selected}\n                                                    />\n                                                    {option.displayName}\n                                                </React.Fragment>\n                                            )}\n                                            style={{ width: 500 }}\n                                            renderInput={(params) => <TextField {...params} label={i18n.t('chat.chat_page.selectUser')} variant=\"outlined\" />}\n                                        />\n                                        <div className={classes.photoChatBox}>\n                                            <UploadPhoto\n                                                onChange={this.handlePhotoChatBox}\n                                                removePhoto={this.removePhotoChatBox}\n                                                photo={photoChatBox}\n                                                photoPreview={photoChatBoxPreview}\n                                                photoName={photoChatBoxName}\n                                                progressUploadBackground={progressUploadBackground}\n                                            />\n                                        </div>\n                                        <AppInput\n                                            className={classes.nameGroupInput}\n                                            name=\"nameGroupChat\"\n                                            value={nameGroupChat}\n                                            type=\"text\"\n                                            placeholder={i18n.t('chat.chat_page.create_group.nameGroupChat')}\n                                            onChange={(event) => this.handleChange('nameGroupChat', event.target.value)}\n                                        />\n                                        <Button\n                                            className=\"btnCreate\"\n                                            onClick={this.createGroupChat}\n                                        >\n                                            {i18n.t('chat.chat_page.btnCreateGroup')}\n                                        </Button>\n                                    </div>\n                                </Popover>}\n                            </div>\n                        </div>\n                        <div className={classes.contentChat}>\n                            <div className={classes.viewListChatBoard}>\n                                <ListChatBoard />\n                            </div>\n                            <div className={classes.viewChatBoard}>\n                                <ChatBoard />\n                            </div>\n                        </div>\n                    </div>\n                </Content>\n                <Footer />\n                <SuccessAlert\n                    snackbarProps={{\n                        open:successOpen,\n                        onClose:this.handleCloseNotice,\n                    }}\n                    message={i18n.t('alert.success')}\n                />\n                <ErrorAlert\n                    snackbarProps={{\n                        open:errorOpen,\n                        onClose:this.handleCloseNotice,\n                    }}\n                    message={i18n.t('alert.error')}\n                />\n            </React.Fragment>\n        );\n    }\n}\n\nChatPage.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\n\nconst mapStateToProps = state => ({\n    dataUserAuth: state.authReducer.dataUserAuth,\n    dataUser: state.gameReducer.dataUser,\n    dataInfoChatBoard: state.gameReducer.dataInfoChatBoard,\n});\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        setDataMessagesChatBoard: (idChatBox) => dispatch(gameActions.setDataMessagesChatBoard(idChatBox)),\n        setDataInfoChatBoard: (idChatBox) => dispatch(gameActions.setDataInfoChatBoard(idChatBox))\n    }\n};\nexport default compose(\n    connect(mapStateToProps, mapDispatchToProps),\n    withStyles(styles),\n    withTranslation(),\n) (ChatPage);\n"],"sourceRoot":""}
(this["webpackJsonpgame-caro"]=this["webpackJsonpgame-caro"]||[]).push([[10],{165:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));var r=a(169),n=a(188),o=a(5),s=function(e){var t,a={},o=Object(n.a)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value,i=Object(r.a)(s,2),c=i[0],l=i[1];a[c]=l}}catch(h){o.e(h)}finally{o.f()}return a},i=function(e){for(var t=[],a=0;a<e;a++){for(var r=[],n=0;n<e;n++)r.push(o.b);t.push(r)}return t}},166:function(e,t,a){"use strict";var r=a(13),n=a(14),o=a(16),s=a(15),i=a(0),c=a.n(i),l=a(315),h=a(27),d=a(310),u=a(101),p=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={props:{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3},alertProps:{severity:"success",elevation:6,variant:"filled"}},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=Object.assign(this.state.props,this.props.snackbarProps?this.props.snackbarProps:{}),a=Object.assign(this.state.alertProps,this.props.alertProps?this.props.alertProps:{});return c.a.createElement(l.a,Object.assign({},t,{className:e.messageSuccess}),c.a.createElement(d.a,a,this.props.message?this.props.message:this.props.t("form.success.save_ok")))}}]),a}(c.a.Component);t.a=Object(h.a)({messageSuccess:{"& .MuiAlert-filledError":{color:"#fff !important"}}})(Object(u.a)()(p))},167:function(e,t,a){"use strict";var r=a(13),n=a(14),o=a(16),s=a(15),i=a(0),c=a.n(i),l=a(315),h=a(27),d=a(310),u=a(101),p=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={props:{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:1e3},alertProps:{severity:"error",elevation:6,variant:"filled"}},n}return Object(n.a)(a,[{key:"render",value:function(){var e=this.props.classes,t=Object.assign(this.state.props,this.props.snackbarProps?this.props.snackbarProps:{}),a=Object.assign(this.state.alertProps,this.props.alertProps?this.props.alertProps:{});return c.a.createElement(l.a,Object.assign({},t,{style:{height:300},className:e.messageError,autoHideDuration:3e3}),c.a.createElement(d.a,a,this.props.message?this.props.message:this.props.t("form.error.occurred")))}}]),a}(c.a.Component);t.a=Object(h.a)({messageError:{"& .MuiAlert-filledError":{color:"#fff !important",fontWeight:500,backgroundColor:"#e7434f !important",fontSize:18,padding:"20px 40px 20px 40px"}}})(Object(u.a)()(p))},175:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var r=a(0),n=a.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=n.a.createElement("defs",null,n.a.createElement("style",null,"\n            .prefix__cls-2{fill:#40587a}\n        ")),c=n.a.createElement("g",{id:"prefix__Groupe_6050","data-name":"Groupe 6050",opacity:.36},n.a.createElement("path",{id:"prefix__Trac\\xE9_2742",d:"M74.23 49.857a9.924 9.924 0 0 0-7.282-3.017h-9.012l-2.051-5.471a7.473 7.473 0 0 0-2.8-3.4 7.165 7.165 0 0 0-4.164-1.429h-20.6a7.166 7.166 0 0 0-4.164 1.429 7.474 7.474 0 0 0-2.8 3.4l-2.045 5.471H10.3a9.924 9.924 0 0 0-7.282 3.017A9.923 9.923 0 0 0 0 57.14v36.048a9.922 9.922 0 0 0 3.017 7.282 9.923 9.923 0 0 0 7.282 3.018h56.648a10.3 10.3 0 0 0 10.3-10.3V57.14a9.922 9.922 0 0 0-3.017-7.283zM51.357 87.9a17.358 17.358 0 0 1-12.734 5.291A17.359 17.359 0 0 1 25.89 87.9a17.969 17.969 0 0 1 0-25.467 17.357 17.357 0 0 1 12.734-5.293 17.359 17.359 0 0 1 12.734 5.291 17.969 17.969 0 0 1 0 25.467z",className:"prefix__cls-2","data-name":"Trac\\xE9 2742",transform:"translate(0 -36.54)"}),n.a.createElement("path",{id:"prefix__Trac\\xE9_2743",d:"M203.443 228.4a11.609 11.609 0 1 0 8.188 3.4 11.16 11.16 0 0 0-8.188-3.4z",className:"prefix__cls-2","data-name":"Trac\\xE9 2743",transform:"translate(-164.82 -201.366)"})),l=function(e){var t=e.svgRef,a=e.title,r=s(e,["svgRef","title"]);return n.a.createElement("svg",o({width:77.247,height:66.948,viewBox:"0 0 77.247 66.948",ref:t},r),a?n.a.createElement("title",null,a):null,i,c)},h=n.a.forwardRef((function(e,t){return n.a.createElement(l,o({svgRef:t},e))}));a.p},182:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a(0),n=a.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var i=n.a.createElement("defs",null,n.a.createElement("style",null,"\n            .prefix__cls-1{fill:#00334e}\n        ")),c=n.a.createElement("path",{id:"prefix__Trac\\xE9_3528",d:"M970.034-82.352l-.016-.051c-.02-.072-.043-.141-.065-.211s-.053-.163-.082-.243-.056-.146-.086-.217-.065-.15-.1-.225-.065-.139-.1-.206-.083-.152-.126-.227-.069-.123-.106-.183q-.11-.175-.231-.34c-.044-.06-.092-.118-.138-.177s-.114-.144-.174-.213-.1-.112-.155-.168-.109-.114-.166-.169-.116-.111-.176-.164-.112-.1-.17-.146-.127-.1-.192-.155-.119-.085-.179-.127-.135-.1-.206-.142q-.18-.115-.369-.216c-.07-.038-.143-.07-.215-.105s-.143-.07-.216-.1l-.215-.086c-.072-.028-.162-.061-.244-.089s-.135-.044-.2-.065c-.1-.029-.2-.055-.3-.078-.055-.013-.109-.027-.164-.038-.16-.033-.322-.061-.486-.08a.471.471 0 0 0-.285.078 7.9 7.9 0 0 1-4.657 1.517 7.9 7.9 0 0 1-4.656-1.517.471.471 0 0 0-.285-.078c-.164.019-.326.047-.486.08-.055.011-.109.025-.163.038-.1.024-.2.049-.3.079-.069.02-.136.042-.2.064-.083.028-.164.057-.245.089s-.144.055-.214.086-.145.067-.217.1l-.214.1c-.126.068-.249.14-.369.216-.071.045-.137.094-.206.142s-.12.083-.179.127-.129.1-.193.155l-.17.146c-.055.046-.119.108-.176.164s-.111.112-.166.17-.105.11-.155.167-.117.141-.175.214-.094.116-.138.176q-.121.166-.231.34c-.037.06-.071.122-.106.183s-.086.15-.126.227-.068.137-.1.206-.068.149-.1.225-.058.144-.086.217-.056.161-.082.243-.045.14-.065.211c0 .017-.011.034-.016.051a5.764 5.764 0 0 0-.2 1.462v1.955a.885.885 0 0 0 .478.744 17.441 17.441 0 0 0 5.087 1.168h.047c.325.035.671.065 1.031.093l.074.006q.416.031.864.055l.336.018.425.016c.559.02 1.119.033 1.679.031.56 0 1.12-.01 1.679-.031.142-.005.287-.009.425-.016l.336-.018q.447-.023.863-.055l.075-.006c.359-.028.7-.058 1.03-.093h.047a17.439 17.439 0 0 0 5.087-1.168.885.885 0 0 0 .478-.744v-1.95a5.753 5.753 0 0 0-.203-1.462z",className:"prefix__cls-1","data-name":"Trac\\xE9 3528",transform:"translate(-950.189 98.885)"}),l=n.a.createElement("path",{id:"prefix__Trac\\xE9_3529",d:"M964.526-99.994a5.93 5.93 0 0 0 5.931-5.93 5.93 5.93 0 0 0-5.93-5.931 5.93 5.93 0 0 0-5.931 5.93 5.93 5.93 0 0 0 5.93 5.931zm2.809-3.576a2.821 2.821 0 0 1-2.81 1.563 2.821 2.821 0 0 1-2.81-1.563z",className:"prefix__cls-1","data-name":"Trac\\xE9 3529",transform:"translate(-954.502 111.854)"}),h=function(e){var t=e.svgRef,a=e.title,r=s(e,["svgRef","title"]);return n.a.createElement("svg",o({id:"prefix__Groupe_7496",width:20.043,height:22.085,"data-name":"Groupe 7496",viewBox:"0 0 20.043 22.085",ref:t},r),a?n.a.createElement("title",null,a):null,i,c,l)},d=n.a.forwardRef((function(e,t){return n.a.createElement(h,o({svgRef:t},e))}));a.p},183:function(e,t,a){"use strict";var r=a(189),n=a(13),o=a(14),s=a(16),i=a(15),c=a(0),l=a.n(c),h=a(19),d=a(8),u=a(175),p=a(101),m=a(27),f=a(222);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var C=l.a.createElement("g",{id:"prefix__Pencil-2","data-name":"Pencil"},l.a.createElement("g",{id:"prefix__Groupe_7243","data-name":"Groupe 7243"},l.a.createElement("path",{id:"prefix__Trac\\xE9_3402",fill:"#ec6611",d:"M18.922 1.076a3.672 3.672 0 0 0-5.193 0L2.683 12.056a.62.62 0 0 0-.147.229l-2.5 6.875a.625.625 0 0 0 .589.84.617.617 0 0 0 .183-.028l6.218-1.907a.624.624 0 0 0 .259-.155L18.922 6.272a3.671 3.671 0 0 0 0-5.2zM6.307 16.978l-2.327.715a2.67 2.67 0 0 0-.635-1.039 3.377 3.377 0 0 0-.847-.6l1.065-2.929H5v1.25a.624.624 0 0 0 .624.625h1.1zm9.2-9.058l-7.615 7.614.219-1.034a.626.626 0 0 0-.611-.75H6.249V12.5a.625.625 0 0 0-.625-.625h-.986l7.433-7.39.007.007a2.424 2.424 0 1 1 3.428 3.428zm2.531-2.531l-.582.583a3.657 3.657 0 0 0-3.431-3.428l.586-.582a2.423 2.423 0 1 1 3.426 3.428zm-4.105-.2l-6.25 6.25a.625.625 0 1 0 .884.884l6.25-6.25a.625.625 0 0 0-.884-.884z","data-name":"Trac\\xE9 3402",transform:"translate(.001)"}))),b=function(e){var t=e.svgRef,a=e.title,r=v(e,["svgRef","title"]);return l.a.createElement("svg",g({id:"prefix__pencil",width:20,height:19.999,viewBox:"0 0 20 19.999",ref:t},r),a?l.a.createElement("title",null,a):null,C)},B=l.a.forwardRef((function(e,t){return l.a.createElement(b,g({svgRef:t},e))}));a.p;function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var A=l.a.createElement("path",{id:"prefix__download-arrow",fill:"#4f4c65",stroke:"#54516a",strokeWidth:"0.5px",d:"M25.249 17.542a.889.889 0 0 0 0-1.269.874.874 0 0 0-1.256 0l-6.432 6.42V1.48a.894.894 0 0 0-.888-.9.9.9 0 0 0-.9.9v21.214l-6.42-6.42a.9.9 0 0 0-1.269 1.269l7.954 7.957a.911.911 0 0 0 1.269 0zm6.305 5.824a.883.883 0 0 1 .888-.888.894.894 0 0 1 .9.888V32.1a.9.9 0 0 1-.9.9H.888A.894.894 0 0 1 0 32.1v-8.734a.883.883 0 0 1 .888-.888.894.894 0 0 1 .9.888v7.841h29.766z",transform:"translate(.25 -.329)"}),E=function(e){var t=e.svgRef,a=e.title,r=O(e,["svgRef","title"]);return l.a.createElement("svg",x({width:33.843,height:32.917,viewBox:"0 0 33.843 32.917",ref:t},r),a?l.a.createElement("title",null,a):null,A)},y=l.a.forwardRef((function(e,t){return l.a.createElement(E,x({svgRef:t},e))}));a.p;function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var k=l.a.createElement("path",{id:"prefix__Trac\\xE9_3614",fill:"#ff7d86",d:"M36.756 22.846l-.046-2.17h-2.048l-6.105 5.435-6.105-5.435H20.4l-.044 2.17 5.954 5.3-5.954 5.261.044 2.178h2.042l6.112-5.441 6.112 5.441h2.042l.044-2.178-5.952-5.261z","data-name":"Trac\\xE9 3614",transform:"translate(-20.358 -20.676)"}),I=function(e){var t=e.svgRef,a=e.title,r=w(e,["svgRef","title"]);return l.a.createElement("svg",P({width:16.398,height:14.909,viewBox:"0 0 16.398 14.909",ref:t},r),a?l.a.createElement("title",null,a):null,k)},G=l.a.forwardRef((function(e,t){return l.a.createElement(I,P({svgRef:t},e))})),j=(a.p,Object(m.a)({root:{height:10,backgroundColor:"#a2d5f2"},bar:{borderRadius:20,backgroundColor:"#07689f"}})(f.a)),N=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).state={},r.inputAvatarRef=l.a.createRef(),r}return Object(o.a)(a,[{key:"render",value:function(){Object(r.a)(this.state);var e=this.props,t=e.classes,a=e.onChange,n=e.removePhoto,o=(e.photo,e.photoPreview),s=e.photoName,i=e.progressUploadBackground;return l.a.createElement("div",{className:t.uploadPhotoWrapper},l.a.createElement(j,{variant:"determinate",color:"secondary",value:i}),l.a.createElement("div",{className:t.uploadPhotoContent},l.a.createElement("input",{accept:"image/*",style:{display:"none"},onChange:a,id:"text-button-file",type:"file",ref:this.inputAvatarRef}),l.a.createElement("div",{className:t.actionPhoto},l.a.createElement("div",{className:t.actionLabel},l.a.createElement("label",{htmlFor:"text-button-file"},l.a.createElement("div",{className:t.actionText},o?l.a.createElement(B,null):l.a.createElement(y,null)))),o&&l.a.createElement("div",{className:t.actionLabel},l.a.createElement("div",{onClick:n,className:t.actionText},l.a.createElement(G,null)))),o&&l.a.createElement("div",{className:t.photoPreview},l.a.createElement("img",{src:o,alt:s})),!o&&l.a.createElement(u.a,null)))}}]),a}(l.a.Component);t.a=Object(d.d)(Object(h.b)((function(e){return{}}),(function(e){return{}})),Object(m.a)((function(e){return{uploadPhotoWrapper:{width:"100%",height:"100%",overflow:"hidden"},photoPreview:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:99,"& img":{width:"100%",height:"100%",objectFit:"cover"},"& .removeAvatar":{position:"absolute",zIndex:3,top:20,left:"50%",transform:"translateX(-50%)",width:22,height:22,display:"flex",background:"#fff",borderRadius:"50%",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"0.3s","&:hover":{color:"#fff"}}},uploadPhotoContent:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",position:"relative",background:"#f9f7d9","&::before":{content:"''",background:"rgba(0,0,0,.5)",position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:10,opacity:0,visibility:"hidden",transition:"0.3s"},"&:hover":{"& $actionLabel":{transform:"translateX(0)"},"&::before":{opacity:1,visibility:"visible"}}},actionPhoto:{position:"absolute",zIndex:999,width:"100%",display:"flex",height:"100%",justifyContent:"center",flexDirection:"column"},actionLabel:{fontSize:"0.8rem",color:"#46435a",background:"#fff",width:90,borderRadius:"0 30px 30px 0",textAlign:"center",transition:"0.3s",transform:"translateX(-100%)","&:nth-of-type(2)":{transitionDelay:"0.1s",marginTop:5},"&:hover":{color:"#fff",background:"#645d7b"}},actionText:{padding:"0.25rem",cursor:"pointer",backgroundColor:"#a3d2ca",borderRadius:"0px 9px 9px 0px","& svg":{"& path":{fill:"#123152",stroke:"#123152"}}}}})),Object(p.a)())(N)},245:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAFaElEQVR4Xu2dT2gcdRTH35vdYEUqiL0UaWZzUYQkO0kaFBWhlx5UamZOooIgVKoV9dT2oh4U/NOLRQ0UtCCCPZTMrorooSBUqUJNZ/LvUKjtTlL2VAqlFdskO0/Gslp0d7Pze7/wm9l9e935vvf7fT6/yS8zy84iyMsoATTaXZqDCDC8CESACDBMwHB7OQNEgGEChtvLGSACDBMw3F7OABFgmIDh9nIGiADDBAy3lzNABBgmYLi99jNgaMyzY4JhRBoBwi2G56enPdINIlywEBYvBn6kp+itKtoE7Bh1h60CfIGA4zoHmLVaBHTWAnjxYlCZ0zE2LQIGy+5jiPgDItylY1BZr0FA6wC4Lwr8z7ljZQv4e+Vb+Gu/wG8CTyQg0WQtrIYcCWwBtuP9jAiPcgaR3yz9VAsqj3PGzxJgj3rjWIBZzgDynqUYx6O5mUB1HiwBpbJ7ECx8X7V5T+RiOlSbq3ygOheeAMf9CBBfV23eEzmiI7Ww8obqXJgCvKOA8JJq8x7JHa0F/j7VuYgAVXL/5kQAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4IIYOHjh0UAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4IIYOHjh0UAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4IIYOHjh0UAnyGrgghg4eOHRQCfIauCCGDh44dFAJ8hq4II6ISPgHwArCPAqyzM7cMioC0bonOrhfXxOtTXSvHgGQAsb4IEEdAKKhFcj9djZ2Wx+nvyfsmZKgHgPCBu1SxBBLQR8FQU+t/d/l7JcZ8GxKoI0Ezgf+UIPqyF/sFWbewx72PN+0HvnAEE8BsC7GT6OVUL/F0AELesMzExoHk/6A0BRHS4cbn4dnHb+mlAdFQkEFC9sVocubR04kqnvOb9oCcE/LNq7Qe97bCFZhFwe0oJa9SAh6N5/2w3OY37Qb4FtFq1JWfKIbROI8Cd3cBMjiGC/VHoT3d7fHKc7bifIOL+NJkWx+ZaQNtVu2PM22MRVRFxwy+RENHxKKw8mxqknv0gvwI2WrWlMfcQAL7XGSwtFK/dmDx//vubqQXouT7Ip4BuV63tuF8i4vNt4F5dXV0brS99u6wCv5lh7gd5FJBi1U5MDNgN+8f/fhmckhdau5eDmZMc+M2s7XifIsIrCrVyJyD1qh0cefIeLNwxiwhDTUAE8TtRUH1LAVjriPp+kB8BnFV7X9m9f8CC5Iba3URwMgr93ck/P9oEqO8HORIA8G4U+G+qQrPL3i5EOmYVis6F2RNXVet0vkhLfb8oHwJ0rdptD+zZevncN9c2A/5t+8E0IrzcZY9cCFi2rMLoZq3aLkF1f1i6/SDjAohurjfiyUsLXy90T8D8kSnuF2VbABE8F4X+V+aRph9Bl9cH2RVARJ9FYWVv+qlnJ2E73kb7QTYFEMEVAnrGAlrLDs70I4kBBxDhOALe2yadTQHpp5rbhAgwrE4E9K+AsnsELHzNMACz7U0+smzQ8Q5YCMoPrDNLTk93IjoQhZXDqtU2/LSp832TKQfQUn5ko+qgs5RDIIfzGGOWgAREPz+4lYB+iYLKI5wFwRZw6wN0PIOARc5A8pYlgj+I8KHluZklztjZApLmg467FxGm+0VCAj9GeGIl8E9x4CdZLQKSQkNjbjkGONYPj6+PG/DCynxlkQtfq4DmYJIfcGjENGJZMNwzP+BA9CchLmb6Bxx0rIZ+rKHtT1A/wtMxZxGggyKjhghgwNMRFQE6KDJqiAAGPB1REaCDIqOGCGDA0xEVATooMmqIAAY8HVERoIMio4YIYMDTERUBOigyaogABjwdURGggyKjxl+mzZV/ec3aHgAAAABJRU5ErkJggg=="},246:function(e,t){e.exports="data:image/png;base64,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"},247:function(e,t,a){e.exports=a.p+"static/media/caro_icon.283ca833.png"},248:function(e,t){e.exports="data:image/png;base64,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"},307:function(e,t,a){"use strict";a.r(t);var r=a(10),n=a(46),o=a(13),s=a(14),i=a(51),c=a(16),l=a(15),h=a(0),d=a.n(h),u=a(19),p=a(27),m=a(8),f=a(73),g=a(163),v=a(72),C=a(169),b=a(29),B=a(206),x=a.n(B),O=a(208),A=a.n(O),E=a(5),y=(a(9),a(32)),P=a(7),w=a(183),k=a(165),I=a(63),G=a(182);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function N(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var U=d.a.createElement("defs",null,d.a.createElement("style",null,"\n            .prefix__cls-1{fill:#00334e}\n        ")),S=d.a.createElement("g",{id:"prefix__teamwork",transform:"translate(.001 .021)"},d.a.createElement("g",{id:"prefix__Groupe_7167","data-name":"Groupe 7167",transform:"translate(11.807 .281)"},d.a.createElement("g",{id:"prefix__Groupe_7166","data-name":"Groupe 7166"},d.a.createElement("ellipse",{id:"prefix__Ellipse_501",cx:4.5,cy:4,className:"prefix__cls-1","data-name":"Ellipse 501",rx:4.5,ry:4,transform:"translate(-.138 -.302)"}))),d.a.createElement("g",{id:"prefix__Groupe_7169","data-name":"Groupe 7169",transform:"translate(10.304 10.309)"},d.a.createElement("g",{id:"prefix__Groupe_7168","data-name":"Groupe 7168"},d.a.createElement("path",{id:"prefix__Trac\\xE9_3383",d:"M172.357 169.147l-.936-7.287a2.053 2.053 0 0 0-2.048-1.86h-1.129a1.038 1.038 0 0 0-.73.3l-1.331 1.331-1.331-1.331a1.038 1.038 0 0 0-.73-.3h-1.127a2.048 2.048 0 0 0-2.048 1.828l-.938 7.316a1.032 1.032 0 0 0 1.022 1.16h1.113l.861 10.51a2.054 2.054 0 0 0 2.051 1.855h2.257a2.06 2.06 0 0 0 2.053-1.873l.859-10.492h1.111a1.028 1.028 0 0 0 .773-.35 1.015 1.015 0 0 0 .248-.807z",className:"prefix__cls-1","data-name":"Trac\\xE9 3383",transform:"translate(-160 -160.005)"}))),d.a.createElement("g",{id:"prefix__Groupe_7171","data-name":"Groupe 7171",transform:"translate(22.706 .281)"},d.a.createElement("g",{id:"prefix__Groupe_7170","data-name":"Groupe 7170"},d.a.createElement("circle",{id:"prefix__Ellipse_502",cx:4,cy:4,r:4,className:"prefix__cls-1","data-name":"Ellipse 502",transform:"translate(-.037 -.302)"}))),d.a.createElement("g",{id:"prefix__Groupe_7173","data-name":"Groupe 7173",transform:"translate(2.06 .005)"},d.a.createElement("g",{id:"prefix__Groupe_7172","data-name":"Groupe 7172"},d.a.createElement("path",{id:"prefix__Trac\\xE9_3384",d:"M36.121 0a4.122 4.122 0 1 0 4.122 4.122A4.126 4.126 0 0 0 36.121 0z",className:"prefix__cls-1","data-name":"Trac\\xE9 3384",transform:"translate(-31.999 -.005)"}))),d.a.createElement("g",{id:"prefix__Groupe_7175","data-name":"Groupe 7175",transform:"translate(22.93 10.309)"},d.a.createElement("g",{id:"prefix__Groupe_7174","data-name":"Groupe 7174"},d.a.createElement("path",{id:"prefix__Trac\\xE9_3385",d:"M366.1 169.147l-.936-7.285a2.052 2.052 0 0 0-2.048-1.857h-1.129a1.038 1.038 0 0 0-.73.3l-1.331 1.331-1.331-1.331a1.037 1.037 0 0 0-.727-.3h-1.129a1.963 1.963 0 0 0-.365.068 4.01 4.01 0 0 1 .536 1.55l.934 7.262a3.084 3.084 0 0 1-.754 2.444 2.988 2.988 0 0 1-1.022.725l.684 6.7a2.053 2.053 0 0 0 2.051 1.855h2.257a2.06 2.06 0 0 0 2.053-1.873l.857-8.431h1.111a1.028 1.028 0 0 0 .773-.35 1.015 1.015 0 0 0 .246-.808z",className:"prefix__cls-1","data-name":"Trac\\xE9 3385",transform:"translate(-356.063 -160.005)"}))),d.a.createElement("g",{id:"prefix__Groupe_7177","data-name":"Groupe 7177",transform:"translate(-.001 10.309)"},d.a.createElement("g",{id:"prefix__Groupe_7176","data-name":"Groupe 7176"},d.a.createElement("path",{id:"prefix__Trac\\xE9_3386",d:"M9.014 171.319a3.087 3.087 0 0 1-.746-2.43l.938-7.318a3.81 3.81 0 0 1 .513-1.5 1.941 1.941 0 0 0-.347-.071H8.243a1.038 1.038 0 0 0-.73.3l-1.331 1.331-1.331-1.331a1.037 1.037 0 0 0-.727-.3h-1.13a2.048 2.048 0 0 0-2.048 1.828l-.938 7.316a1.032 1.032 0 0 0 1.022 1.16h1.113L3 178.759a2.054 2.054 0 0 0 2.051 1.855h2.26a2.06 2.06 0 0 0 2.053-1.873l.684-6.687a3.09 3.09 0 0 1-1.034-.735z",className:"prefix__cls-1","data-name":"Trac\\xE9 3386",transform:"translate(.001 -160.005)"})))),M=function(e){var t=e.svgRef,a=e.title,r=N(e,["svgRef","title"]);return d.a.createElement("svg",j({width:32.974,height:33,viewBox:"0 0 32.974 33",ref:t},r),a?d.a.createElement("title",null,a):null,U,S)},R=d.a.forwardRef((function(e,t){return d.a.createElement(M,j({svgRef:t},e))})),D=(a.p,a(45)),T=a(101),_=(x.a,A.a,function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={dataAllChatBox:[],idChatBoxCurrent:null,idChatBoxChange:!0},r.showChats=r.showChats.bind(Object(i.a)(r)),r}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t,a){var r=this.state.idChatBoxChange,n=this.props,o=(n.dataUserAuth,n.dataUser,new URLSearchParams(window.location.search.substr(1)).entries()),s=Object(k.b)(o),i=this.state.idChatBoxCurrent;if(s.hasOwnProperty("idChatBox")&&r){var c=s.idChatBox;c!==i&&(this.setState({idChatBoxCurrent:c,idChatBoxChange:!1}),this.props.setDataMessagesChatBoard(c),this.props.setDataInfoChatBoard(c))}}},{key:"componentDidMount",value:function(){this.showChats()}},{key:"showChats",value:function(){var e=this,t=this.props.dataUser;b.a.database().ref("chats").orderByChild(t.userId+"_checkMember").equalTo(!0).on("value",(function(t){if(t.val()){var a=[];Object.keys(t.val()).map((function(e,r){a.push(t.val()[e])})),a.sort((function(e,t){return t.updatedAt-e.updatedAt})),e.setState({dataAllChatBox:a})}}))}},{key:"viewFriendInfoPrivateChat",value:function(e){for(var t=this.props,a=t.dataUser,r=t.classes,n=null,o=0,s=Object.entries(e.dataMembers);o<s.length;o++){var i=Object(C.a)(s[o],2),c=i[0],l=i[1];a.userId!==c&&(n=l)}return n?d.a.createElement("div",{className:r.itemChatBoard},d.a.createElement(G.a,{className:"type",width:18,height:18}),d.a.createElement("div",{className:"avatar"},n.avatarUrl?d.a.createElement("img",{src:n.avatarUrl,alt:""}):d.a.createElement(G.a,null)),d.a.createElement("div",{className:"info"},n.displayName?n.displayName:n.email?n.email:"user")):null}},{key:"viewFriendInfoGroupChat",value:function(e){var t=this.props,a=t.dataUser,r=t.classes;if(e){for(var n="",o=0,s=0,i=Object.entries(e.dataMembers);s<i.length;s++){var c=Object(C.a)(i[s],2),l=c[0],h=c[1];a.userId!==l&&o<2&&(n+=h.displayName?h.displayName:h.email?h.email:D.a.t("chat.user")+", ",o+=1)}return d.a.createElement("div",{className:r.itemChatBoard},d.a.createElement(R,{className:"type",width:18,height:18}),d.a.createElement("div",{className:"avatar"},e.photoChatBox?d.a.createElement("img",{src:e.photoChatBox,alt:""}):d.a.createElement(R,null)),d.a.createElement("div",{className:"info"},e.nameGroupChat?e.nameGroupChat:n||D.a.t("chat.group")+", "))}return null}},{key:"render",value:function(){var e=this,t=this.state.dataAllChatBox,a=this.props,r=a.classes;a.dataUserAuth,a.dataUser;return d.a.createElement("div",{className:r.viewListChatBoard},d.a.createElement("div",{className:r.listChat},t.map((function(t,a){return d.a.createElement(y.c,{to:P.c+"?idChatBox="+t.idChatBox,onClick:function(){e.setState({idChatBoxChange:!0})},className:r.itemChatLink},t.chatBoxType===E.v?d.a.createElement(d.a.Fragment,null,null===e.viewFriendInfoPrivateChat(t)?d.a.createElement(G.a,null):e.viewFriendInfoPrivateChat(t)):d.a.createElement(d.a.Fragment,null,null===e.viewFriendInfoGroupChat(t)?d.a.createElement(G.a,null):e.viewFriendInfoGroupChat(t)))}))))}}]),a}(d.a.Component)),z=Object(m.d)(Object(u.b)((function(e){return{dataUserAuth:e.authReducer.dataUserAuth,dataUser:e.gameReducer.dataUser,dataInfoChatBoard:e.gameReducer.dataInfoChatBoard}}),(function(e){return{setDataMessagesChatBoard:function(t){return e(I.f(t))},setDataInfoChatBoard:function(t){return e(I.e(t))}}})),Object(p.a)((function(e){return{itemChatLink:{},itemChatBoard:{display:"flex",alignItems:"center",padding:"0.5rem 0.25rem",borderBottom:"1px solid darkcyan",position:"relative","& svg.type":{position:"absolute",right:0,top:2},"& .avatar":{width:48,height:48,"& img":{width:"100%",height:"100%",borderRadius:"50%"},"& svg":{width:"100%",height:"100%",borderRadius:"50%"}},"& .info":{flexGrow:1,color:"#123152",fontWeight:600,paddingLeft:"0.5rem",fontSize:"0.9rem"}}}})),Object(T.a)())(_),L=a(267),Q=a(189),W=a(171),F=a.n(W),q=a(245),H=a.n(q),V=a(246),K=a.n(V),Z=a(247),Y=a.n(Z),J=a(248),X=a.n(J),$=a(292),ee=a(249),te=a.n(ee),ae=a(174),re=a(159),ne=a(223),oe="http://api.tenor.com/v1/search?key=1T64U0GUWGZG",se=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={stickerKeyword:"",searchSuggestions:[],dataStickers:[]},r.handleChange=r.handleChange.bind(Object(i.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.searchBySearchSuggestion("")}},{key:"handleChange",value:function(e,t){var a=this;this.setState(Object(n.a)({},e,t)),te.a.all([te.a.get("http://api.tenor.com/v1/search_suggestions?key=1T64U0GUWGZG&q="+t),te.a.get(oe+"&q="+t)]).then((function(e,t){var r=e[0].data.results,n=e[1].data.results,o=[];n.map((function(e,t){o.push(e.media[0].gif.url)})),a.setState({searchSuggestions:r,dataStickers:o})})).catch((function(e){}))}},{key:"searchBySearchSuggestion",value:function(e){var t=this;te.a.get(oe+"&q="+e).then((function(e){var a=e.data.results,r=[];a.map((function(e,t){r.push(e.media[0].gif.url)})),t.setState({dataStickers:r})})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.stickerKeyword,r=t.searchSuggestions,n=t.dataStickers,o=this.props,s=o.classes;o.dataChatBoard;return d.a.createElement("div",{className:s.listStickerWrapper},d.a.createElement(ae.a,{className:s.stickerKeyword,name:"stickerKeyword",value:a,type:"text",placeholder:D.a.t("chat.listSticker.searchSticker"),onChange:function(t){return e.handleChange("stickerKeyword",t.target.value)}}),d.a.createElement("div",{className:s.searchSuggestions},r.map((function(t,a){return d.a.createElement(re.a,{className:s.btnSuggestion,onClick:function(){return e.searchBySearchSuggestion(t)}},t)}))),d.a.createElement("div",{className:s.showSticker},d.a.createElement(ne.a,{container:!0},n.map((function(t,a){return d.a.createElement(ne.a,{item:!0,xs:6,className:s.itemImageWrapper},d.a.createElement("img",{src:t,alt:"",onClick:function(){e.props.getSticker(t)}}))})))))}}]),a}(d.a.Component),ie=Object(m.d)(Object(u.b)((function(e){return{dataUserAuth:e.authReducer.dataUserAuth,dataChatBoard:e.gameReducer.dataChatBoard,dataUser:e.gameReducer.dataUser}}),(function(e){return{}})),Object(p.a)((function(e){return{listStickerWrapper:{display:"flex",flexDirection:"column",height:"100%"},searchSuggestions:{borderTop:"3px solid #123152"},btnSuggestion:{backgroundColor:"#123152",textTransform:"initial",padding:"0.5rem 1.5rem",fontWeight:600,borderRadius:9,margin:"0.4rem 0.2rem",color:"#fff","&:hover":{backgroundColor:"#123152"}},showSticker:{padding:"0.5rem",overflowY:"scroll","&::-webkit-scrollbar":{width:9,height:9},"&::-webkit-scrollbar-track":{},"&::-webkit-scrollbar-thumb":{borderRadius:9,background:"#ee6f57"}},itemImageWrapper:{"& img":{width:"100%",cursor:"pointer"}},stickerKeyword:{width:"100%",paddingBottom:"0.5rem","& input":{backgroundColor:"#f1f3de",border:"3px solid #557571"}}}})))(se),ce=a(305),le=a(309),he=a(312),de=a(290),ue=a(166),pe=a(167),me=a(55),fe=d.a.createElement(x.a,{fontSize:"small"}),ge=d.a.createElement(A.a,{fontSize:"small"}),ve=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={textInputValue:"",popoverListSticker:null,popoverCreateGroupBoard:null,popoverCreatePrivateBoard:null,dataAllUsersGroupChat:[],dataInitPrivateBoard:{sizeChessBoard:10},dataInitGroupBoard:{sizeChessBoard:10,dataChessmans:[]},showOptionsAllUsers:!1,successOpen:!1,errorOpen:!1,isLoading:!1,errors:{}},r.handleCloseNotice=r.handleCloseNotice.bind(Object(i.a)(r)),r.handleChange=r.handleChange.bind(Object(i.a)(r)),r.onSendMessage=r.onSendMessage.bind(Object(i.a)(r)),r.onKeyboardPressTextInput=r.onKeyboardPressTextInput.bind(Object(i.a)(r)),r.openPopoverListSticker=r.openPopoverListSticker.bind(Object(i.a)(r)),r.closePopoverListSticker=r.closePopoverListSticker.bind(Object(i.a)(r)),r.getSticker=r.getSticker.bind(Object(i.a)(r)),r.onChoosePhoto=r.onChoosePhoto.bind(Object(i.a)(r)),r.uploadPhoto=r.uploadPhoto.bind(Object(i.a)(r)),r.handleChessmansChange=r.handleChessmansChange.bind(Object(i.a)(r)),r.openPopoverCreateGroupBoard=r.openPopoverCreateGroupBoard.bind(Object(i.a)(r)),r.closePopoverCreateGroupBoard=r.closePopoverCreateGroupBoard.bind(Object(i.a)(r)),r.openPopoverCreatePrivateBoard=r.openPopoverCreatePrivateBoard.bind(Object(i.a)(r)),r.closePopoverCreatePrivateBoard=r.closePopoverCreatePrivateBoard.bind(Object(i.a)(r)),r.createPrivateBoard=r.createPrivateBoard.bind(Object(i.a)(r)),r.createGroupBoard=r.createGroupBoard.bind(Object(i.a)(r)),r.handleInitPrivateBoardChange=r.handleInitPrivateBoardChange.bind(Object(i.a)(r)),r.handleInitGroupBoardChange=r.handleInitGroupBoardChange.bind(Object(i.a)(r)),r.showOptionsAllUsersChatBoard=r.showOptionsAllUsersChatBoard.bind(Object(i.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t,a){this.props.dataInfoChatBoard&&!this.state.showOptionsAllUsers&&(this.setState({showOptionsAllUsers:!0}),this.showOptionsAllUsersChatBoard())}},{key:"handleInitPrivateBoardChange",value:function(e,t){var a=this.state.dataInitPrivateBoard;a[e]=t,this.setState({dataInitPrivateBoard:a})}},{key:"handleInitGroupBoardChange",value:function(e,t){var a=this.state.dataInitGroupBoard;a[e]=t,this.setState({dataInitGroupBoard:a})}},{key:"onSendMessage",value:function(e,t){var a=this,r=this.props.dataUser,n=(new Date).getTime(),o={createdAt:n,typeMessage:t,contentMessage:e,createdBy:r.userId},s=new URLSearchParams(window.location.search.substr(1)).entries(),i=Object(k.b)(s);this.state.idChatBoxCurrent;if(i.hasOwnProperty("idChatBox")){var c=i.idChatBox;b.a.database().ref("messages/"+c+"/"+n).set(o,(function(e){switch(t){case E.r:a.setState({textInputValue:""});break;case E.n:a.setState({popoverCreateGroupBoard:null});break;case E.o:a.setState({popoverCreatePrivateBoard:null})}e?a.setState({errorOpen:!0,isLoading:!1}):a.setState({successOpen:!0,isLoading:!1})}))}}},{key:"onChoosePhoto",value:function(e){e.target.files&&e.target.files[0]&&this.uploadPhoto(e.target.files[0])}},{key:"uploadPhoto",value:function(e){var t=this,a=this.props.dataUser;if(e){var r=a.userId+"_"+(new Date).getTime(),n=b.b.ref("images/messages/".concat(r)).put(e);this.setState({isLoading:!0}),n.on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);t.setState({progressUploadBackground:a})}),(function(e){}),(function(){b.b.ref("images/messages").child(r).getDownloadURL().then((function(e){t.onSendMessage(e,E.p)}))}))}else this.setState({isLoading:!1})}},{key:"onKeyboardPressTextInput",value:function(e){Object(Q.a)(this.state),"Enter"===e.key&&""!==this.state.textInputValue&&this.onSendMessage(this.state.textInputValue,E.r)}},{key:"handleChange",value:function(e,t){this.setState(Object(n.a)({},e,t))}},{key:"viewMessages",value:function(){for(var e=this.props,t=(e.classes,e.dataUserAuth,e.match,e.dataMessagesChatBoard),a=[],r=0,n=Object.entries(t);r<n.length;r++){var o=Object(C.a)(n[r],2),s=(o[0],o[1]);a=[].concat(Object(L.a)(a),[s])}return a}},{key:"viewItemMessage",value:function(e){var t=this.props,a=t.dataUser,r=t.classes,n=this.state.dataAllUsersGroupChat,o=!1;a.userId===e.createdBy&&(o=!0);var s=null;n.map((function(t,a){t.userId===e.createdBy&&(s=t)}));var i=e.typeMessage;if(!s)return"";switch(i){case E.m:return d.a.createElement("div",{className:r.messageTypeCreate+" "+r.itemMessage},D.a.t("chat.chat_board.chat_content.createChat",{user:s.displayName?s.displayName:s.email?s.email:D.a.t("chat.user")}));case E.r:return o?d.a.createElement("div",{className:r.isMe+" "+r.itemMessage},d.a.createElement("div",{className:r.contentTextMessage},e.contentMessage)):d.a.createElement("div",{className:r.notMe+" "+r.itemMessage},d.a.createElement("div",{className:r.avatarMessage},d.a.createElement("img",{src:s.avatarUrl?s.avatarUrl:F.a,alt:""})),d.a.createElement("div",{className:r.contentTextMessage+" notMe"},e.contentMessage));case E.p:case E.q:return o?d.a.createElement("div",{className:r.isMe+" "+r.itemMessage},d.a.createElement("img",{src:e.contentMessage,className:r.contentImage,alt:""})):d.a.createElement("div",{className:r.notMe+" "+r.itemMessage},d.a.createElement("div",{className:r.avatarMessage},d.a.createElement("img",{src:s.avatarUrl?s.avatarUrl:F.a,alt:""})),d.a.createElement("img",{src:e.contentMessage,className:r.contentImage,alt:""}));case E.o:case E.n:return o?d.a.createElement("div",{className:r.isMe+" "+r.itemMessage},d.a.createElement(y.c,{to:P.e.replace(":idChessBoard",e.contentMessage)},d.a.createElement(re.a,{className:r.btnGoToChessBoard},d.a.createElement("img",{src:Y.a,alt:""}),d.a.createElement("span",{className:"text"},D.a.t("chat.chat_board.chat_content.chessBoard"))))):d.a.createElement("div",{className:r.notMe+" "+r.itemMessage},d.a.createElement("div",{className:r.avatarMessage},d.a.createElement("img",{src:s.avatarUrl?s.avatarUrl:F.a,alt:""})),d.a.createElement(y.c,{to:P.e.replace(":idChessBoard",e.contentMessage)},d.a.createElement(re.a,{className:r.btnGoToChessBoard},d.a.createElement("img",{src:Y.a,alt:""}),d.a.createElement("span",{className:"text"},D.a.t("chat.chat_board.chat_content.chessBoard")))));default:return""}}},{key:"openPopoverCreateGroupBoard",value:function(e){this.showOptionsAllUsersChatBoard(),this.setState({popoverCreateGroupBoard:e.currentTarget})}},{key:"openPopoverCreatePrivateBoard",value:function(e){this.setState({popoverCreatePrivateBoard:e.currentTarget})}},{key:"createPrivateBoard",value:function(){for(var e=this,t=this.props,a=t.dataInfoChatBoard,r=t.dataUser,n=this.state.dataInitPrivateBoard,o=r.userId+"_"+a.idChatBox+"_"+(new Date).getTime(),s={},i=0,c=Object.entries(a.dataMembers);i<c.length;i++){var l=Object(C.a)(c[i],2),h=l[0],d=l[1];s[h]=d}var u={idChessBoard:o,dataBoard:{sizeChessBoard:n.sizeChessBoard},userIdChessmanA:r.userId,userIdChessmanB:null,chessBoardType:E.u,createBy:r.userId,dataMembersBoard:s,chessBoardOpen:!1};this.setState({isLoading:!0}),b.a.database().ref("chessBoards/"+o).set(u,(function(t){t?e.setState({errorOpen:!0}):e.onSendMessage(o,E.o)}))}},{key:"createGroupBoard",value:function(){var e=this,t=this.props,a=t.dataInfoChatBoard,r=t.dataUser,n=this.state.dataInitGroupBoard;if(2===n.dataChessmans.length){this.setState({isLoading:!0});for(var o=r.userId+"_"+a.idChatBox+"_"+(new Date).getTime(),s={},i=0,c=Object.entries(a.dataMembers);i<c.length;i++){var l=Object(C.a)(c[i],2),h=l[0],d=l[1];s[h]=d}var u={idChessBoard:o,dataBoard:{sizeChessBoard:n.sizeChessBoard},userIdChessmanA:n.dataChessmans[0].userId,userIdChessmanB:n.dataChessmans[1].userId,chessBoardType:E.h,createBy:r.userId,dataMembersBoard:s,chessBoardOpen:!1};b.a.database().ref("chessBoards/"+o).set(u,(function(t){t?e.setState({errorOpen:!0}):e.onSendMessage(o,E.n)}))}else{var p=this.state.errors;p.selectUser=D.a.t("chat.chat_board.create_chess_board.errors.selectUser"),this.setState({errorOpen:!0,errors:p})}}},{key:"closePopoverCreateGroupBoard",value:function(){this.setState({popoverCreateGroupBoard:null})}},{key:"closePopoverCreatePrivateBoard",value:function(){this.setState({popoverCreatePrivateBoard:null})}},{key:"openPopoverListSticker",value:function(e){this.setState({popoverListSticker:e.currentTarget})}},{key:"closePopoverListSticker",value:function(){this.setState({popoverListSticker:null})}},{key:"getSticker",value:function(e){this.onSendMessage(e,E.q),this.setState({popoverListSticker:null})}},{key:"handleChessmansChange",value:function(e,t){var a=this.state,r=a.dataInitGroupBoard,n=a.errors;delete n.selectUser,r.dataChessmans=t,this.setState({dataInitGroupBoard:r,errors:n})}},{key:"showOptionsAllUsersChatBoard",value:function(){var e=this.props.dataInfoChatBoard,t=[];if(e&&e.dataMembers)for(var a=0,r=Object.entries(e.dataMembers);a<r.length;a++){var n=Object(C.a)(r[a],2),o=(n[0],n[1]);t.push(o)}this.setState({dataAllUsersGroupChat:t})}},{key:"handleCloseNotice",value:function(){this.setState({successOpen:!1,errorOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=(t.board,t.idChatBoxCurrent,t.textInputValue),r=t.popoverListSticker,n=(t.dataChessmans,t.popoverCreateGroupBoard),o=t.dataAllUsersGroupChat,s=t.popoverCreatePrivateBoard,i=t.dataInitPrivateBoard,c=(t.dataInitGroupBoard,t.successOpen),l=t.errorOpen,h=t.isLoading,u=t.errors,p=this.props,m=p.classes,f=(p.dataUserAuth,p.match,p.dataMessagesChatBoard),g=p.dataInfoChatBoard,v=p.dataUser,b=null,B="";if(g)if(g.chatBoxType===E.v){for(var x=null,O=0,A=Object.entries(g.dataMembers);O<A.length;O++){var y=Object(C.a)(A[O],2),P=y[0],w=y[1];v.userId!==P&&(x=w)}x.avatarUrl&&(b=x.avatarUrl),B=x.displayName?x.displayName:x.email?x.email:D.a.t("chat.user")}else if(g.chatBoxType===E.i&&(b=g.photoChatBox,!(B=g.nameGroupChat)))for(var k=0,I=0,j=Object.entries(g.dataMembers);I<j.length;I++){var N=Object(C.a)(j[I],2),U=N[0],S=N[1];v.userId!==U&&k<2&&(B+=S.displayName?S.displayName:S.email?S.email:D.a.t("chat.user")+", ",k+=1)}return d.a.createElement("div",{className:m.chatBoardWrapper},h&&d.a.createElement(me.a,null),g?d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:m.chatBoardHeader},b?d.a.createElement("img",{src:b,alt:""}):g.chatBoxType===E.v?d.a.createElement(G.a,{width:48,height:48}):d.a.createElement(R,{width:48,height:48}),d.a.createElement("span",{className:"chatBoxName"},B)),d.a.createElement("div",{className:m.contentWrapper},d.a.createElement("div",{className:m.chatBoardContent},f&&this.viewMessages().map((function(t,a){return e.viewItemMessage(t)}))),d.a.createElement("div",{className:m.chatBoardInput},d.a.createElement("img",{className:"icOpenGallery",src:H.a,alt:"icon open gallery",onClick:function(){return e.refInput.click()}}),d.a.createElement("input",{ref:function(t){e.refInput=t},accept:"image/*",className:"viewInputGallery",type:"file",onChange:this.onChoosePhoto}),d.a.createElement("img",{className:"icOpenSticker",src:K.a,alt:"icon open sticker",onClick:this.openPopoverListSticker}),r&&d.a.createElement($.a,{open:!0,anchorEl:r,onClose:this.closePopoverListSticker,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"left"}},d.a.createElement("div",{className:m.popoverSticker},d.a.createElement(ie,{getSticker:this.getSticker}))),g?g.chatBoxType===E.i?d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{className:"icOpenSticker",src:Y.a,alt:"icon open sticker",onClick:this.openPopoverCreateGroupBoard}),n&&d.a.createElement($.a,{open:!0,anchorEl:n,onClose:this.closePopoverCreateGroupBoard,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"left"}},d.a.createElement("div",{className:m.createGroupBoardPopover},d.a.createElement(ce.a,{multiple:!0,id:"checkboxes-tags-demo",options:o,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.displayName},onChange:this.handleChessmansChange,renderOption:function(e,t){var a=t.selected;return d.a.createElement(d.a.Fragment,null,d.a.createElement(le.a,{icon:fe,checkedIcon:ge,style:{marginRight:8},checked:a}),e.displayName)},renderInput:function(e){return d.a.createElement(he.a,Object.assign({},e,{variant:"outlined",label:D.a.t("chat.chat_page.selectUser"),placeholder:D.a.t("chat.chat_page.selectUser")}))}}),u.selectUser&&d.a.createElement("div",{className:m.errorText},u.selectUser),d.a.createElement(ae.a,{type:"number",name:"sizeChessBoard",value:i.sizeChessBoard,onChange:function(t){return e.handleInitPrivateBoardChange("sizeChessBoard",t.target.value)},inputProps:{min:10,max:20}}),d.a.createElement(re.a,{className:m.submitCreateBoard,onClick:this.createGroupBoard},D.a.t("welcome.createChessBoard"))))):g.chatBoxType===E.v?d.a.createElement(d.a.Fragment,null,d.a.createElement("img",{className:"icOpenSticker",src:Y.a,alt:"icon open sticker",onClick:this.openPopoverCreatePrivateBoard}),s&&d.a.createElement($.a,{open:!0,anchorEl:s,onClose:this.closePopoverCreatePrivateBoard,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"left"}},d.a.createElement("div",{className:m.createPrivateBoardPopover},d.a.createElement(de.a,{type:"number",name:"sizeChessBoard",value:i.sizeChessBoard,onChange:function(t){return e.handleInitPrivateBoardChange("sizeChessBoard",t.target.value)},inputProps:{min:10,max:20}}),d.a.createElement(re.a,{className:m.submitCreateBoard,onClick:this.createPrivateBoard},D.a.t("welcome.createChessBoard"))))):"":"",d.a.createElement("input",{className:"viewInput",placeholder:D.a.t("chat.chat_board.input_text"),value:a,onChange:function(t){return e.handleChange("textInputValue",t.target.value)},onKeyPress:this.onKeyboardPressTextInput}),d.a.createElement("img",{className:"icSend",src:X.a,alt:"icon send",onClick:function(){""!==a&&e.onSendMessage(a,E.r)}})))):d.a.createElement("div",{className:m.notDataChatBoard},D.a.t("chat.chat_board.not_data_chat_board",{name:v.displayName?v.displayName:""})),d.a.createElement(ue.a,{snackbarProps:{open:c,onClose:this.handleCloseNotice},message:D.a.t("alert.success")}),d.a.createElement(pe.a,{snackbarProps:{open:l,onClose:this.handleCloseNotice},message:D.a.t("alert.error")}))}}]),a}(d.a.Component),Ce=Object(m.d)(Object(u.b)((function(e){return{dataUserAuth:e.authReducer.dataUserAuth,dataMessagesChatBoard:e.gameReducer.dataMessagesChatBoard,dataUser:e.gameReducer.dataUser,dataInfoChatBoard:e.gameReducer.dataInfoChatBoard}}),(function(e){return{}})),Object(p.a)((function(e){return{chatBoardWrapper:{display:"flex",alignItems:"flex-start",justifyContent:"center",margin:"auto",height:"100%",flexDirection:"column",paddingLeft:"0.5rem"},notDataChatBoard:{width:"100%",textAlign:"center",fontWeight:700,color:"#123152",fontSize:"1.2rem"},chatBoardHeader:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem 0rem",width:"100%",backgroundColor:"#a3d2ca",color:"#123152",fontWeight:700,borderRadius:7,"& img":{width:48,height:48,borderRadius:"50%"},"& .chatBoxName":{paddingLeft:"0.5rem"}},contentWrapper:{width:"100%",backgroundColor:"#cffffe",borderRadius:7,marginTop:"0.5rem",padding:"0.5rem 1rem"},chatBoardContent:{flexGrow:1,height:250,overflowY:"scroll",width:"100%",padding:"1rem 0.5rem","&::-webkit-scrollbar":{width:9,height:9},"&::-webkit-scrollbar-track":{},"&::-webkit-scrollbar-thumb":{background:"#ee6f57",borderRadius:9}},chatBoardInput:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:50,borderTop:"2px solid #123152",width:"100%","& .icOpenGallery":{width:24,height:24,marginLeft:10,cursor:"pointer"},"& .viewInputGallery":{opacity:0,position:"absolute",zIndex:-1,left:10,width:30},"& .icOpenSticker":{width:24,height:24,marginLeft:5,marginRight:5,cursor:"pointer"},"& .icSend":{width:24,height:24,marginLeft:5,marginRight:5,cursor:"pointer"},"& .viewInput":{flex:1,borderRadius:4,paddingLeft:10,paddingRight:10,border:0,height:30,color:"#123152","&::focus":{outline:0}}},createGroupBoardPopover:{width:480,padding:"2rem 0.5rem",display:"flex",flexDirection:"column",borderRadius:11},errorText:{color:"#ec0101"},createPrivateBoardPopover:{width:480,padding:"2rem 0.5rem",display:"flex",flexDirection:"column",borderRadius:11},messageTypeCreate:{width:"100%",textAlign:"center",color:"#b52b65",fontWeight:600,fontSize:"1.1rem"},itemMessage:{padding:"1rem 0rem"},btnGoToChessBoard:{backgroundColor:"#123152",textTransform:"initial",padding:"0.5rem 1.5rem",fontWeight:600,borderRadius:9,color:"#ffdead","&:hover":{backgroundColor:"#123152"},"& img":{width:24,height:24},"& .text":{paddingLeft:"0.5rem"}},contentImage:{maxWidth:240,borderRadius:9},isMe:{display:"flex",alignItems:"flex-start",justifyContent:"flex-end"},notMe:{display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},contentTextMessage:{maxWidth:360,backgroundColor:"#00bcd4",padding:"1rem 0.5rem",borderRadius:11,color:"#fff",fontWeight:600,"&.notMe":{backgroundColor:"#ffdbc5",color:"#123152"}},avatarMessage:{width:40,height:36,paddingRight:4,"& img":{width:"100%",height:"100%",borderRadius:"50%"}},popoverSticker:{width:436,height:480,padding:"1rem 0.5rem"},submitCreateBoard:{backgroundColor:"#123152",textTransform:"initial",padding:"0.5rem 1.5rem",fontWeight:600,borderRadius:9,marginBottom:"1rem",color:"#dfe3f1","&:hover":{backgroundColor:"#123152"}}}})),Object(T.a)())(ve),be=d.a.createElement(x.a,{fontSize:"small"}),Be=d.a.createElement(A.a,{fontSize:"small"}),xe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={dataAllUsers:[],idChatBoxCurrent:null,popoverCreatePrivateChat:null,popoverCreateGroupChat:null,dataUserPrivateChat:null,dataUserGroupChat:[],checkCreatePrivateChat1:!1,checkCreatePrivateChat2:!1,photoChatBox:null,photoChatBoxPreview:"",photoChatBoxName:"",progressUploadBackground:0,nameGroupChat:"",successOpen:!1,errorOpen:!1},r.handleCloseNotice=r.handleCloseNotice.bind(Object(i.a)(r)),r.openPopoverCreatePrivateChat=r.openPopoverCreatePrivateChat.bind(Object(i.a)(r)),r.closePopoverCreatePrivateChat=r.closePopoverCreatePrivateChat.bind(Object(i.a)(r)),r.openPopoverCreateGroupChat=r.openPopoverCreateGroupChat.bind(Object(i.a)(r)),r.closePopoverCreateGroupChat=r.closePopoverCreateGroupChat.bind(Object(i.a)(r)),r.createPrivateChat=r.createPrivateChat.bind(Object(i.a)(r)),r.submitPrivateChat=r.submitPrivateChat.bind(Object(i.a)(r)),r.createGroupChat=r.createGroupChat.bind(Object(i.a)(r)),r.submitGroupChat=r.submitGroupChat.bind(Object(i.a)(r)),r.handleGroupChatChange=r.handleGroupChatChange.bind(Object(i.a)(r)),r.handlePhotoChatBox=r.handlePhotoChatBox.bind(Object(i.a)(r)),r.removePhotoChatBox=r.removePhotoChatBox.bind(Object(i.a)(r)),r.inputAvatarRef=d.a.createRef(),r.handleChange=r.handleChange.bind(Object(i.a)(r)),r.handlePrivateChatChange=r.handlePrivateChatChange.bind(Object(i.a)(r)),r}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"showAllUsers",value:function(){var e=this;b.a.database().ref("users").on("value",(function(t){if(t.val()){var a=[];Object.keys(t.val()).map((function(r,n){r!==e.props.dataUserAuth.uid&&a.push(t.val()[r])})),e.setState({dataAllUsers:a})}}))}},{key:"handleChange",value:function(e,t){this.setState(Object(n.a)({},e,t))}},{key:"handlePhotoChatBox",value:function(e){this.setState({photoChatBox:e.target.files[0],photoChatBoxPreview:URL.createObjectURL(e.target.files[0]),photoChatBoxName:e.target.files[0].name})}},{key:"removePhotoChatBox",value:function(){this.setState({photoChatBox:null,photoChatBoxPreview:"",photoChatBoxName:""})}},{key:"createPrivateChat",value:function(){var e=this,t=this.props,a=t.dataUserAuth,r=(t.dataUser,this.state.dataUserPrivateChat);if(r){var n=a.uid+"_"+r.userId;b.a.database().ref("chats").orderByChild("idChatBox").equalTo(n).valueOf().on("value",(function(t){t.val()?e.setState({popoverCreatePrivateChat:null}):e.setState({checkCreatePrivateChat1:!0})}));var o=r.userId+"_"+a.uid;b.a.database().ref("chats").orderByChild("idChatBox").equalTo(o).valueOf().on("value",(function(t){t.val()?e.setState({popoverCreatePrivateChat:null}):e.setState({checkCreatePrivateChat2:!0})}))}}},{key:"submitPrivateChat",value:function(){var e,t=this,a=this.state.dataUserPrivateChat,r=this.props,o=r.dataUserAuth,s=r.dataUser,i=o.uid+"_"+a.userId,c={idChatBox:i,statusChatBox:2,photoChatBox:null,chatBoxType:E.v,updatedAt:(new Date).getTime()},l=(e={},Object(n.a)(e,s.userId,s),Object(n.a)(e,a.userId,a),e);c[s.userId+"_checkUpdate"]=2,c[a.userId+"_checkUpdate"]=1,c[s.userId+"_checkMember"]=!0,c[a.userId+"_checkMember"]=!0,c.dataMembers=l,b.a.database().ref("chats/"+i).set(c,(function(e){if(e)t.setState({popoverCreatePrivateChat:null});else{var a=(new Date).getTime(),r={createdAt:a,typeMessage:E.m,content:null};b.a.database().ref("messages/"+i+"/"+a).set(r,(function(e){t.setState({popoverCreatePrivateChat:null,photoChatBox:null,photoChatBoxPreview:"",photoChatBoxName:""})}))}}))}},{key:"createGroupChat",value:function(){var e=this,t=this.props,a=t.dataUserAuth,r=(t.dataUser,this.state),n=r.dataUserGroupChat,o=(r.nameGroupChat,r.photoChatBox);r.photoChatBoxPreview,r.photoChatBoxName;if(Array.isArray(n)&&n.length){var s=a.uid+"_"+(new Date).getTime();if(o){var i=s+"_"+(new Date).getTime(),c=b.b.ref("images/photoChatBox/".concat(i)).put(o);this.setState({isLoading:!0}),c.on("state_changed",(function(t){var a=Math.round(t.bytesTransferred/t.totalBytes*100);e.setState({progressUploadBackground:a})}),(function(t){e.setState({progressUploadBackground:0,isLoading:!1,photoChatBox:null,photoChatBoxPreview:"",photoChatBoxName:""})}),(function(){b.b.ref("images/photoChatBox").child(i).getDownloadURL().then((function(t){e.submitGroupChat(s,t)}))}))}else this.submitGroupChat(s)}}},{key:"submitGroupChat",value:function(e,t){var a=this,o=this.props,s=o.dataUserAuth,i=o.dataUser,c=this.state,l=c.dataUserGroupChat,h=c.nameGroupChat,d=Object(n.a)({},i.userId+"_checkUpdate",2),u=Object(n.a)({},i.userId,i),p=Object(n.a)({},i.userId+"_checkMember",!0);l.map((function(e,t){d[e.userId+"_checkUpdate"]=1,u[e.userId]=e,p[e.userId+"_checkMember"]=!0}));var m=Object(r.a)(Object(r.a)({idChatBox:e,statusChatBox:2,photoChatBox:t||null,nameGroupChat:h,createdBy:s.uid,chatBoxType:E.i,updatedAt:(new Date).getTime(),dataMembers:u},d),p);b.a.database().ref("chats/"+e).set(m,(function(t){if(t)a.setState({popoverCreateGroupChat:null,photoChatBox:null,photoChatBoxPreview:"",photoChatBoxName:""});else{var r=(new Date).getTime(),n={createdAt:r,typeMessage:E.m,contentMessage:null,createdBy:null};b.a.database().ref("messages/"+e+"/"+r).set(n,(function(e){a.setState({popoverCreateGroupChat:null,photoChatBox:null,photoChatBoxPreview:"",photoChatBoxName:""})}))}}))}},{key:"handlePrivateChatChange",value:function(e,t){this.setState({dataUserPrivateChat:t})}},{key:"handleGroupChatChange",value:function(e,t){this.setState({dataUserGroupChat:t})}},{key:"componentDidUpdate",value:function(e,t,a){var r=this.state,n=r.checkCreatePrivateChat1,o=r.checkCreatePrivateChat2,s=(r.dataUserPrivateChat,r.idChatBoxChange),i=this.props;i.dataUserAuth,i.dataUser;n&&o&&(this.setState({checkCreatePrivateChat1:!1,checkCreatePrivateChat2:!1}),this.submitPrivateChat());var c=new URLSearchParams(window.location.search.substr(1)).entries(),l=Object(k.b)(c),h=this.state.idChatBoxCurrent;if(l.hasOwnProperty("idChatBox")&&s){var d=l.idChatBox;d!==h&&(this.setState({idChatBoxCurrent:d,idChatBoxChange:!1}),this.props.setDataMessagesChatBoard(d),this.props.setDataInfoChatBoard(d))}}},{key:"showDataChatBoard",value:function(e){b.a.database().ref("messages/"+e).on("value",(function(e){e.val()&&console.log(e.val())}))}},{key:"openPopoverCreatePrivateChat",value:function(e){this.showAllUsers(),this.setState({popoverCreatePrivateChat:e.currentTarget})}},{key:"closePopoverCreatePrivateChat",value:function(){this.setState({popoverCreatePrivateChat:null,dataUserPrivateChat:null})}},{key:"openPopoverCreateGroupChat",value:function(e){this.showAllUsers(),this.setState({popoverCreateGroupChat:e.currentTarget})}},{key:"closePopoverCreateGroupChat",value:function(){this.setState({popoverCreateGroupChat:null})}},{key:"handleCloseNotice",value:function(){this.setState({successOpen:!1,errorOpen:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.popoverCreatePrivateChat,r=t.popoverCreateGroupChat,n=t.dataAllUsers,o=(t.dataUserPrivateChat,t.dataUserGroupChat,t.dataAllChatBox,t.nameGroupChat),s=t.photoChatBox,i=t.photoChatBoxPreview,c=t.photoChatBoxName,l=t.progressUploadBackground,h=t.successOpen,u=t.errorOpen,p=this.props,m=p.classes;p.dataUserAuth,p.dataUser;return d.a.createElement(d.a.Fragment,null,d.a.createElement(g.a,null),d.a.createElement(v.a,null,d.a.createElement("div",{className:m.chatPageWrapper},d.a.createElement("div",{className:m.actionChat},d.a.createElement("div",{className:m.createPrivateChat},d.a.createElement(re.a,{className:"btnOpenPopover",onClick:this.openPopoverCreatePrivateChat},d.a.createElement("span",{className:"plus"},"+"),d.a.createElement(G.a,null)),a&&d.a.createElement($.a,{open:!0,anchorEl:a,onClose:this.closePopoverCreatePrivateChat,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},d.a.createElement("div",{className:m.createPrivateChatPopover},d.a.createElement(ce.a,{id:"combo-box-demo",options:n,getOptionLabel:function(e){return e.displayName},style:{width:300},onChange:this.handlePrivateChatChange,renderInput:function(e){return d.a.createElement(he.a,Object.assign({},e,{label:D.a.t("chat.chat_page.selectUser"),variant:"outlined"}))}}),d.a.createElement(re.a,{className:"btnCreate",onClick:this.createPrivateChat},D.a.t("chat.chat_page.btnCreatePrivate"))))),d.a.createElement("div",{className:m.createGroupChat},d.a.createElement(re.a,{className:"btnOpenPopover",onClick:this.openPopoverCreateGroupChat},d.a.createElement("span",{className:"plus"},"+"),d.a.createElement(R,null)),r&&d.a.createElement($.a,{open:!0,anchorEl:r,onClose:this.closePopoverCreateGroupChat,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},d.a.createElement("div",{className:m.createGroupChatPopover},d.a.createElement(ce.a,{multiple:!0,id:"checkboxes-tags-demo",options:n,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.displayName},onChange:this.handleGroupChatChange,renderOption:function(e,t){var a=t.selected;return d.a.createElement(d.a.Fragment,null,d.a.createElement(le.a,{icon:be,checkedIcon:Be,style:{marginRight:8},checked:a}),e.displayName)},style:{width:500},renderInput:function(e){return d.a.createElement(he.a,Object.assign({},e,{label:D.a.t("chat.chat_page.selectUser"),variant:"outlined"}))}}),d.a.createElement("div",{className:m.photoChatBox},d.a.createElement(w.a,{onChange:this.handlePhotoChatBox,removePhoto:this.removePhotoChatBox,photo:s,photoPreview:i,photoName:c,progressUploadBackground:l})),d.a.createElement(ae.a,{className:m.nameGroupInput,name:"nameGroupChat",value:o,type:"text",placeholder:D.a.t("chat.chat_page.create_group.nameGroupChat"),onChange:function(t){return e.handleChange("nameGroupChat",t.target.value)}}),d.a.createElement(re.a,{className:"btnCreate",onClick:this.createGroupChat},D.a.t("chat.chat_page.btnCreateGroup")))))),d.a.createElement("div",{className:m.contentChat},d.a.createElement("div",{className:m.viewListChatBoard},d.a.createElement(z,null)),d.a.createElement("div",{className:m.viewChatBoard},d.a.createElement(Ce,null))))),d.a.createElement(f.a,null),d.a.createElement(ue.a,{snackbarProps:{open:h,onClose:this.handleCloseNotice},message:D.a.t("alert.success")}),d.a.createElement(pe.a,{snackbarProps:{open:u,onClose:this.handleCloseNotice},message:D.a.t("alert.error")}))}}]),a}(d.a.Component);t.default=Object(m.d)(Object(u.b)((function(e){return{dataUserAuth:e.authReducer.dataUserAuth,dataUser:e.gameReducer.dataUser,dataInfoChatBoard:e.gameReducer.dataInfoChatBoard}}),(function(e){return{setDataMessagesChatBoard:function(t){return e(I.f(t))},setDataInfoChatBoard:function(t){return e(I.e(t))}}})),Object(p.a)((function(e){return{chatPageWrapper:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:"100%",flexDirection:"column",overflowY:"scroll",backgroundColor:"#e0ece4",borderRadius:9,margin:"0.5rem 1rem","&::-webkit-scrollbar":{width:9,height:9},"&::-webkit-scrollbar-track":{},"&::-webkit-scrollbar-thumb":{borderRadius:9,background:"#ee6f57"}},actionChat:{display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem 0rem"},createPrivateChat:{"& .btnOpenPopover":{"& span.plus":{fontWeight:700,fontSize:"1.2rem",color:"#206a5d",padding:"0rem 0.5rem"},"& svg":{"& path":{fill:"#00334e",stroke:"#00334e"}}}},createGroupChat:{"& .btnOpenPopover":{"& span.plus":{fontWeight:700,fontSize:"1.2rem",color:"#206a5d",padding:"0rem 0.5rem"},"& svg":{"& path":{fill:"#00334e",stroke:"#00334e"}}}},contentChat:{display:"flex",alignItems:"center",width:"100%",padding:"0rem 0.5rem",justifyContent:"flex-end"},viewListChatBoard:{height:"100%",backgroundColor:"#8fc0a9",width:250,borderRadius:7,padding:"1rem 0.5rem"},viewChatBoard:{flexGrow:1},listChat:{},createPrivateChatPopover:{padding:"2rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:11,width:400,"& .btnCreate":{margin:"1rem 0rem",backgroundColor:"#123152",textTransform:"initial",padding:"0.5rem 1.5rem",fontWeight:600,borderRadius:9,marginBottom:"1rem",color:"#dfe3f1","&:hover":{backgroundColor:"#123152"}}},createGroupChatPopover:{padding:"2rem 1rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start","& .btnCreate":{margin:"1rem 0rem",backgroundColor:"#123152",textTransform:"initial",padding:"0.5rem 1.5rem",fontWeight:600,borderRadius:9,marginBottom:"1rem",color:"#dfe3f1","&:hover":{backgroundColor:"#123152"}}},photoChatBox:{width:300,height:300,margin:"0.5rem 0rem"},nameGroupInput:{"& input":{background:"#e0ece4",color:"#123152"}}}})),Object(T.a)())(xe)}}]);
//# sourceMappingURL=10.bac62548.chunk.js.map